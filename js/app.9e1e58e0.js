(function(){var e={6700:function(e,t,s){var r={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-ps":3639,"./ar-ps.js":3639,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":1400,"./gu.js":1400,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku-kmr":257,"./ku-kmr.js":257,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=6700},625:function(e,t,s){"use strict";var r=s(9242),a=s(3396);function i(e,t,s,r,i,o){const n=(0,a.up)("router-view"),l=(0,a.up)("v-main"),c=(0,a.up)("v-app");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n)])),_:1})])),_:1})}s(560);const o={on(e,t){document.addEventListener(e,(e=>t(e.detail)))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};var n=o,l={name:"App",data:()=>({}),methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}},mounted(){n.on("logout",(()=>{this.logOut()}))},beforeUnmount(){n.remove("logout")}},c=s(89);const d=(0,c.Z)(l,[["render",i]]);var p=d,m=s(2483);function u(e,t,s,r,i,o){const n=(0,a.up)("AdminPage");return(0,a.wg)(),(0,a.j4)(n)}var h=s(7139);const g=e=>((0,a.dD)("data-v-379dfe3c"),e=e(),(0,a.Cn)(),e),v={class:"container"},b=g((()=>(0,a._)("h1",null,"ADMINISTRATION",-1))),f={class:"theContent"},k={class:"tables"},y={class:"row"},w={class:"col"},_={class:"table-responsive"},T=g((()=>(0,a._)("caption",null," Organization ",-1))),j=g((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Username"),(0,a._)("th",{scope:"col"},"First Name"),(0,a._)("th",{scope:"col"},"Last Name"),(0,a._)("th",{scope:"col"},"Email")])],-1))),D={class:"outer-container"},P=g((()=>(0,a._)("div",{class:"text-container"},"Edit user information",-1))),M={class:"form-container"},C={class:"row g-3"},N={key:0},I={key:1},S={key:2},U={key:3},A={class:"col-md-6"},x=g((()=>(0,a._)("label",{for:"selectedFirstName",class:"form-label"},"FIRST NAME",-1))),z={class:"col-md-6"},O=g((()=>(0,a._)("label",{for:"selectedLastName",class:"form-label"},"LAST NAME",-1))),E={class:"col-md-6"},R=g((()=>(0,a._)("label",{for:"selectedUsername",class:"form-label"},"USERNAME",-1))),L={class:"col-md-6"},V=g((()=>(0,a._)("label",{for:"selectedEmail",class:"form-label"},"EMAIL",-1))),q={class:"col-md-6"},H=g((()=>(0,a._)("label",{for:"role",class:"form-label"},"ROLE",-1))),F=g((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),$=g((()=>(0,a._)("option",{value:"Developer"},"Developer",-1))),G=g((()=>(0,a._)("option",{value:"ProjectManager"},"Project Manager",-1))),W=g((()=>(0,a._)("option",{value:"Admin"},"Administrator",-1))),Y=[F,$,G,W],B={class:"col-md-10"},K={class:"col-md-2"};function Z(e,t,s,i,o,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",v,[b,(0,a._)("div",f,[(0,a._)("div",k,[(0,a._)("div",y,[(0,a._)("div",w,[(0,a._)("div",_,[(0,a.Wm)(c,{columns:o.columns,data:o.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[0]||(t[0]=e=>n.clickRow())},{default:(0,a.w5)((()=>[T,j])),_:1},8,["columns","data"])])])])]),(0,a._)("div",D,[P,(0,a._)("div",M,[(0,a._)("form",C,[""!=o.errorModifyRole?((0,a.wg)(),(0,a.iD)("span",N,(0,h.zw)(o.errorModifyRole),1)):(0,a.kq)("",!0),""!=o.errorModifyUser?((0,a.wg)(),(0,a.iD)("span",I,(0,h.zw)(o.errorModifyUser),1)):(0,a.kq)("",!0),""!=o.errorDeleteUser?((0,a.wg)(),(0,a.iD)("span",S,(0,h.zw)(o.errorDeleteUser),1)):(0,a.kq)("",!0),""!=o.errorSelectUser?((0,a.wg)(),(0,a.iD)("span",U,(0,h.zw)(o.errorSelectUser),1)):(0,a.kq)("",!0),(0,a._)("div",A,[x,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedFirstName=e),id:"selectedFirstName"},null,512),[[r.nr,o.selectedFirstName]])]),(0,a._)("div",z,[O,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedLastName=e),id:"selectedLastName"},null,512),[[r.nr,o.selectedLastName]])]),(0,a._)("div",E,[R,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedUsername=e),id:"selectedUsername"},null,512),[[r.nr,o.selectedUsername]])]),(0,a._)("div",L,[V,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedEmail=e),id:"selectedEmail"},null,512),[[r.nr,o.selectedEmail]])]),(0,a._)("div",q,[H,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedRole=e),id:"role",class:"form-select"},Y,512),[[r.bM,o.selectedRole]])]),(0,a._)("div",B,[(0,a._)("button",{type:"button",onClick:t[6]||(t[6]=e=>n.modifyUser(o.oldUsername,o.selectedUsername,o.selectedEmail,"",o.selectedFirstName,o.selectedLastName,o.selectedRole)),class:"btn btn-primary"}," Submit ")]),(0,a._)("div",K,[(0,a._)("button",{type:"button",onClick:t[7]||(t[7]=e=>n.deleteUser(o.oldUsername,o.selectedRole)),class:"btn btn-danger"}," Remove user ")])])])])])])],64)}const J=e=>((0,a.dD)("data-v-02df63de"),e=e(),(0,a.Cn)(),e),Q={class:"navbar fixed-top navbar-expand-lg navbar-light",style:{"background-color":"#e3f2fd"}},X={class:"container-fluid"},ee=["src"],te=["src"],se=J((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),re={class:"collapse navbar-collapse",id:"navbarSupportedContent"},ae={key:0,class:"navbar-nav mr-auto"},ie={key:0,class:"nav-item"},oe={key:1,class:"navbar-nav ml-auto"},ne={class:"nav-item"},le={class:"nav-item"},ce={key:2,class:"navbar-nav ml-auto"},de={class:"nav-item"},pe={class:"nav-item"};function me(e,t,i,o,n,l){const c=(0,a.up)("RouterLink"),d=(0,a.up)("router-link"),p=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("nav",Q,[(0,a._)("div",X,[l.currentUser?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"navbar-brand",to:"/dashboard"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s(4243),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},null,8,ee),(0,a.Uk)(" Bug Tracker ")])),_:1})):(0,a.kq)("",!0),l.currentUser?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c,{key:1,class:"navbar-brand",to:"/signup"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s(4243),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},null,8,te),(0,a.Uk)(" Bug Tracker ")])),_:1})),se,(0,a._)("div",re,[l.currentUser?((0,a.wg)(),(0,a.iD)("ul",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.links,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:e.id},[(0,a.Wm)(d,{class:"nav-link",to:e.link},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(e.text),1)])),_:2},1032,["to"])])))),128)),l.showAdminItem?((0,a.wg)(),(0,a.iD)("li",ie,[(0,a.Wm)(d,{class:"nav-link",to:"/administration"},{default:(0,a.w5)((()=>[(0,a.Uk)("Administration")])),_:1})])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),l.currentUser?((0,a.wg)(),(0,a.iD)("ul",oe,[(0,a._)("li",ne,[(0,a.Wm)(d,{class:"nav-link",to:"/myAccount"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"user"}),(0,a.Uk)(" "+(0,h.zw)(l.currentUser.username),1)])),_:1})]),(0,a._)("li",le,[(0,a._)("a",{class:"nav-link",href:"",onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>l.logOut&&l.logOut(...e)),["prevent"]))},[(0,a.Wm)(p,{icon:"sign-out-alt"}),(0,a.Uk)("LogOut ")])])])):(0,a.kq)("",!0),l.currentUser?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",ce,[(0,a._)("li",de,[(0,a.Wm)(d,{to:"/signup",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"user-plus"}),(0,a.Uk)("Sign Up ")])),_:1})]),(0,a._)("li",pe,[(0,a.Wm)(d,{to:"/login",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"sign-in-alt"}),(0,a.Uk)("Login ")])),_:1})])]))])])])}var ue={name:"NavBar",data(){return{links:[{id:1,text:"Dashboard",link:"/dashboard"},{id:2,text:"Projects",link:"/projects"},{id:3,text:"Tickets",link:"/tickets"}]}},computed:{currentUser(){return this.$store.state.auth.user},showAdminItem(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};const he=(0,c.Z)(ue,[["render",me],["__scopeId","data-v-02df63de"]]);var ge=he,ve=s(5929),be=s(649),fe=(s(9299),s(7407),s(2686),s(1076));const ke=fe.Z.create({baseURL:"https://personal-bugtracker-80b6079a0b29.herokuapp.com/api",headers:{"Content-Type":"application/json"}});var ye=ke;class we{getAllDevelopers(){return ye.get("/test/developers/")}getUserWithUsername(e){return ye.get("/test/user/".concat(e))}getAllProjectManagers(){return ye.get("/test/projectmanagers/")}getAllUsers(){return ye.get("/test/users/")}getRoleForUser(e){return ye.get("/test/user/role/".concat(e))}modifyUser(e,t,s,r,a,i){return ye.post("/test/user/modify/".concat(e),null,{params:{newUsername:t,newEmail:s,newPassword:r,newFirstName:a,newLastName:i}})}modifyRoleOfUser(e,t){return ye.post("/test/user/modifyRole/".concat(e),null,{params:{userRole:t}})}deleteDeveloper(e){return ye.post("/test/developer/delete/".concat(e),null,{})}deleteAdmin(e){return ye.post("/test/admin/delete/".concat(e),null,{})}deleteProjectManager(e){return ye.post("/test/projectmanager/delete/".concat(e),null,{})}}var _e=new we;ve.Z.use(be.Z);var Te={name:"AdminPage",components:{NavBar:ge,DataTable:ve.Z},data(){return{data:[],roles:[],errorModifyUser:"",errorModifyRole:"",errorGetUsers:"",errorGetRole:"",errorDeleteUser:"",errorSelectUser:"",columns:[{data:"username"},{data:"firstName"},{data:"lastName"},{data:"email"}],r:"",oldUsername:"",selectedUsername:"",selectedFirstName:"",selectedLastName:"",selectedEmail:"",selectedRole:"null"}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdmin(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")},loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn?this.currentUserIsAdmin||this.$router.push("/dashboard"):this.$router.push("/login")},mounted:function(){this.currentUserIsAdmin&&_e.getAllUsers().then((e=>{this.data=e.data}),(e=>{this.errorGetUsers=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},methods:{clickRow(){this.resetErrorMessages(),this.errorModifyUser="",this.errorModifyRole="",this.errorDeleteUser="";const e=this.$refs.table.dt;var t=e.row(".selected").data();this.oldUsername=t.username,this.selectedUsername=t.username,this.selectedFirstName=t.firstName,this.selectedLastName=t.lastName,this.selectedEmail=t.email,_e.getRoleForUser(this.selectedUsername).then((e=>{this.selectedRole=e.data}),(e=>{this.errorGetRole=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},resetErrorMessages(){this.errorModifyUser="",this.errorModifyRole="",this.errorGetUsers="",this.errorGetRole="",this.errorDeleteUser="",this.errorSelectUser=""},modifyUser:function(e,t,s,r,a,i,o){this.resetErrorMessages();const l=this.$refs.table.dt;var c=l.row(".selected").data();if(null==c)this.errorSelectUser="No user selected. ";else{var d=this.data.map((e=>e.username)).indexOf(e);_e.modifyUser(e,t,s,r,a,i).then((e=>{this.errorModifyUser="",_e.modifyRoleOfUser(this.selectedUsername,o).then((e=>{this.oldUsername=e.data.username,this.data[d].role=o,this.selectedRole=o,this.errorModifyRole=""}),(e=>{this.errorModifyRole=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.data[d].username=e.data.username,this.selectedUsername=e.data.username,this.data[d].email=e.data.email,this.selectedEmail=e.data.email,this.data[d].firstName=e.data.firstName,this.selectedFirstName=e.data.firstName,this.data[d].lastName=e.data.lastName,this.selectedLastName=e.data.lastName}),(e=>{this.errorModifyUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},deleteUser:function(e,t){this.resetErrorMessages();const s=this.$refs.table.dt;var r=s.row(".selected").data();if(null==r)this.errorSelectUser="No user selected. ";else{var a=this.data.map((e=>e.username)).indexOf(e);"Developer"==t?_e.deleteDeveloper(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):"Admin"==t?_e.deleteAdmin(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):"ProjectManager"==t&&_e.deleteProjectManager(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const je=(0,c.Z)(Te,[["render",Z],["__scopeId","data-v-379dfe3c"]]);var De=je,Pe={name:"AdminView",components:{AdminPage:De}};const Me=(0,c.Z)(Pe,[["render",u]]);var Ce=Me;function Ne(e,t,s,r,i,o){const n=(0,a.up)("TicketPage");return(0,a.wg)(),(0,a.j4)(n)}const Ie=e=>((0,a.dD)("data-v-07d377fc"),e=e(),(0,a.Cn)(),e),Se={class:"container"},Ue=Ie((()=>(0,a._)("h1",null,"TICKETS",-1))),Ae={class:"modal",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},xe={class:"modal-dialog"},ze={class:"modal-content"},Oe=Ie((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ee={class:"modal-body"},Re={class:"row g-3"},Le={key:0},Ve={key:1},qe={class:"col-md-12"},He=Ie((()=>(0,a._)("label",{for:"title1",class:"form-label"},"Title",-1))),Fe={class:"col-md-12"},$e=Ie((()=>(0,a._)("label",{for:"project1",class:"form-label"},"Project",-1))),Ge=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),We=["value"],Ye={class:"col-md-12"},Be=Ie((()=>(0,a._)("label",{for:"description1",class:"form-label"},"Description",-1))),Ke={class:"col-12"},Ze=Ie((()=>(0,a._)("label",{for:"devs1",class:"form-label"},"Assigned Developers",-1))),Je=["value"],Qe={class:"col-md-4"},Xe=Ie((()=>(0,a._)("label",{for:"priority1",class:"form-label"},"Priority",-1))),et=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),tt={class:"col-md-4"},st=Ie((()=>(0,a._)("label",{for:"type1",class:"form-label"},"Type",-1))),rt=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),at={class:"col-md-4"},it=Ie((()=>(0,a._)("label",{for:"status1",class:"form-label"},"Status",-1))),ot=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),nt={class:"modal-footer"},lt={ref:"CloseCreate",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},ct={class:"modal",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},dt={class:"modal-dialog"},pt={class:"modal-content"},mt=Ie((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ut={class:"modal-body"},ht={class:"row g-3"},gt={key:0},vt={key:1},bt={key:2},ft={class:"col-md-12"},kt=Ie((()=>(0,a._)("label",{for:"title",class:"form-label"},"Title",-1))),yt={class:"col-md-12"},wt=Ie((()=>(0,a._)("label",{for:"project",class:"form-label"},"Project",-1))),_t=["value"],Tt={class:"col-md-12"},jt=Ie((()=>(0,a._)("label",{for:"description",class:"form-label"},"Description",-1))),Dt={class:"col-12"},Pt=Ie((()=>(0,a._)("label",{for:"devs",class:"form-label"},"Assigned Developers",-1))),Mt=["value"],Ct={class:"col-md-4"},Nt=Ie((()=>(0,a._)("label",{for:"priority",class:"form-label"},"Priority",-1))),It={class:"col-md-4"},St=Ie((()=>(0,a._)("label",{for:"type",class:"form-label"},"Type",-1))),Ut={class:"col-md-4"},At=Ie((()=>(0,a._)("label",{for:"status",class:"form-label"},"Status",-1))),xt={class:"modal-footer"},zt={ref:"CloseModify",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},Ot={class:"theContent"},Et={class:"tables"},Rt={class:"row"},Lt={class:"col"},Vt={class:"table-responsive"},qt={key:0},Ht={key:0},Ft={key:1},$t=Ie((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Author"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status"),(0,a._)("th",{scope:"col"},"Creation date"),(0,a._)("th",{scope:"col"},"Project"),(0,a._)("th",{scope:"col"})])],-1))),Gt={class:"row g-3"},Wt=Ie((()=>(0,a._)("div",{class:"col-md-2"},[(0,a._)("button",{type:"button",class:"btn btn-primary"},[(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal2"},"New ticket")])],-1))),Yt={class:"col-md-8"},Bt={type:"button",class:"btn btn-primary"},Kt={class:"col-md-2"},Zt={class:"outer-container"},Jt=Ie((()=>(0,a._)("div",{class:"text-container"},"Selected ticket info",-1))),Qt={class:"row g-3"},Xt={class:"col"},es={class:"ticket-info"},ts={class:"row"},ss={class:"col-6"},rs=Ie((()=>(0,a._)("div",{class:"text-container3"},"TITLE",-1))),as={class:"text-container4"},is={class:"col-6"},os=Ie((()=>(0,a._)("div",{class:"text-container3"},"PROJECT",-1))),ns={class:"text-container4"},ls={class:"row"},cs={class:"col"},ds=Ie((()=>(0,a._)("div",{class:"text-container3"},"DESCRIPTION",-1))),ps={class:"text-container4"},ms={class:"col"},us=Ie((()=>(0,a._)("div",{class:"text-container3"},"AUTHOR",-1))),hs={class:"text-container4"},gs={class:"row"},vs={class:"col"},bs=Ie((()=>(0,a._)("div",{class:"text-container3"},"TYPE",-1))),fs={class:"text-container4"},ks={class:"col"},ys=Ie((()=>(0,a._)("div",{class:"text-container3"},"PRIORITY",-1))),ws={class:"text-container4"},_s={class:"col"},Ts=Ie((()=>(0,a._)("div",{class:"text-container3"},"STATUS",-1))),js={class:"text-container4"},Ds={class:"row"},Ps={class:"col"},Ms=Ie((()=>(0,a._)("div",{class:"text-container3"},"ASSIGNED DEVS",-1))),Cs={class:"ticket-hist"},Ns={class:"row"},Is={class:"col"},Ss={class:"table-responsive"},Us=Ie((()=>(0,a._)("caption",null," Ticket history ",-1))),As=Ie((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Property changed"),(0,a._)("th",{scope:"col"},"Old value"),(0,a._)("th",{scope:"col"},"New value"),(0,a._)("th",{scope:"col"},"Date of change")])],-1))),xs={class:"col"},zs={class:"row d-flex justify-content-center"},Os={class:"card shadow-0 border",style:{"background-color":"#f0f2f5"}},Es={class:"card-body p-4"},Rs={"data-mdb-input-init":"",class:"form-outline mb-4"},Ls={key:0},Vs={type:"button",class:"btn btn-primary"},qs={class:"card mb-4"},Hs={class:"card-body"},Fs={class:"d-flex justify-content-between"},$s={class:"d-flex flex-row align-items-center"},Gs={class:"small mb-0 ms-2"},Ws={class:"d-flex flex-row align-items-center"},Ys={class:"small text-muted mb-0"},Bs={key:1,class:"badgeInactive"},Ks={key:3,class:"badgeInactive"};function Zs(e,t,s,i,o,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Se,[Ue,(0,a._)("div",Ae,[(0,a._)("div",xe,[(0,a._)("div",ze,[Oe,(0,a._)("div",Ee,[(0,a._)("form",Re,[""!=o.errorCreateTicket?((0,a.wg)(),(0,a.iD)("span",Le,(0,h.zw)(o.errorCreateTicket),1)):(0,a.kq)("",!0),""!=o.errorAssignDevsToTicket?((0,a.wg)(),(0,a.iD)("span",Ve,(0,h.zw)(o.errorAssignDevsToTicket),1)):(0,a.kq)("",!0),(0,a._)("div",qe,[He,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),id:"title1"},null,512),[[r.nr,o.title]])]),(0,a._)("div",Fe,[$e,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[1]||(t[1]=e=>o.ticketProject=e),onChange:t[2]||(t[2]=e=>n.setDevsCreate(o.ticketProject)),class:"form-select"},[Ge,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projects,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,We)))),128))],544),[[r.bM,o.ticketProject]])]),(0,a._)("div",Ye,[Be,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>o.description=e),id:"description1"},null,512),[[r.nr,o.description]])]),(0,a._)("div",Ke,[Ze,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>o.ticketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projectDevsCreate,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Je)))),128))],512),[[r.bM,o.ticketDevs]])]),(0,a._)("div",Qe,[Xe,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[5]||(t[5]=e=>o.priority=e),class:"form-select"},[et,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.priority]])]),(0,a._)("div",tt,[st,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[6]||(t[6]=e=>o.type=e),class:"form-select"},[rt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.type]])]),(0,a._)("div",at,[it,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[7]||(t[7]=e=>o.status=e),class:"form-select"},[ot,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.status]])])])]),(0,a._)("div",nt,[(0,a._)("button",lt," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=e=>n.createTicket(o.title,o.description,o.priority,o.status,o.type,o.ticketProject,o.ticketDevs))}," Create new ticket ")])])])]),(0,a._)("div",ct,[(0,a._)("div",dt,[(0,a._)("div",pt,[mt,(0,a._)("div",ut,[(0,a._)("form",ht,[""!=o.errorModifyTicket?((0,a.wg)(),(0,a.iD)("span",gt,(0,h.zw)(o.errorModifyTicket),1)):(0,a.kq)("",!0),""!=o.errorAssignDevsToTicketInModify?((0,a.wg)(),(0,a.iD)("span",vt,(0,h.zw)(o.errorAssignDevsToTicketInModify),1)):(0,a.kq)("",!0),""!=o.errorAssignProjectToTicketInModify?((0,a.wg)(),(0,a.iD)("span",bt,(0,h.zw)(o.errorAssignProjectToTicketInModify),1)):(0,a.kq)("",!0),(0,a._)("div",ft,[kt,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>o.newTitle=e),id:"title1"},null,512),[[r.nr,o.newTitle]])]),(0,a._)("div",yt,[wt,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[10]||(t[10]=e=>o.newTicketProject=e),onChange:t[11]||(t[11]=e=>n.setDevs(o.newTicketProject)),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projects,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,_t)))),128))],544),[[r.bM,o.newTicketProject]])]),(0,a._)("div",Tt,[jt,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>o.newDescription=e),id:"description1"},null,512),[[r.nr,o.newDescription]])]),(0,a._)("div",Dt,[Pt,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=e=>o.newTicketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projectDevsModify,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Mt)))),128))],512),[[r.bM,o.newTicketDevs]])]),(0,a._)("div",Ct,[Nt,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[14]||(t[14]=e=>o.newPriority=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newPriority]])]),(0,a._)("div",It,[St,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[15]||(t[15]=e=>o.newType=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newType]])]),(0,a._)("div",Ut,[At,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[16]||(t[16]=e=>o.newStatus=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newStatus]])])])]),(0,a._)("div",xt,[(0,a._)("button",zt," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[17]||(t[17]=e=>n.modifyTicket(o.selectedTicketId,o.newTitle,o.newDescription,o.newPriority,o.newStatus,o.newType,o.newTicketProject,o.newTicketDevs))}," Save changes ")])])])]),(0,a._)("div",Ot,[(0,a._)("div",Et,[(0,a._)("div",Rt,[(0,a._)("div",Lt,[(0,a._)("div",Vt,[""!=o.errorSelectTicket?((0,a.wg)(),(0,a.iD)("span",qt,(0,h.zw)(o.errorSelectTicket),1)):(0,a.kq)("",!0),(0,a.Wm)(c,{columns:o.columns,data:o.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[18]||(t[18]=e=>n.clickRow())},{default:(0,a.w5)((()=>[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",Ht," All tickets ")):((0,a.wg)(),(0,a.iD)("caption",Ft," Assigned tickets ")),$t])),_:1},8,["columns","data"])]),(0,a._)("div",Gt,[Wt,(0,a._)("div",Yt,[(0,a._)("button",Bt,[(0,a._)("a",{target:"_blank",onClick:t[19]||(t[19]=e=>n.checkIfTicketSelected()),"data-bs-target":"#exampleModal1"},"Edit ticket")])]),(0,a._)("div",Kt,[(0,a._)("button",{type:"button",onClick:t[20]||(t[20]=e=>n.deleteTicket(o.selectedTicketId)),class:"btn btn-danger"}," Delete ticket ")])])])])]),(0,a._)("div",Zt,[Jt,(0,a._)("div",Qt,[(0,a._)("div",Xt,[(0,a._)("div",es,[(0,a._)("div",ts,[(0,a._)("div",ss,[rs,(0,a._)("div",as,(0,h.zw)(o.selectedTitle),1)]),(0,a._)("div",is,[os,(0,a._)("div",ns,(0,h.zw)(o.selectedProject.name),1)])]),(0,a._)("div",ls,[(0,a._)("div",cs,[ds,(0,a._)("div",ps,(0,h.zw)(o.selectedDescription),1)]),(0,a._)("div",ms,[us,(0,a._)("div",hs,(0,h.zw)(o.selectedTicketSubmitter.firstName)+" "+(0,h.zw)(o.selectedTicketSubmitter.lastName),1)])]),(0,a._)("div",gs,[(0,a._)("div",vs,[bs,(0,a._)("div",fs,(0,h.zw)(o.selectedType),1)]),(0,a._)("div",ks,[ys,(0,a._)("div",ws,(0,h.zw)(o.selectedPriority),1)]),(0,a._)("div",_s,[Ts,(0,a._)("div",js,(0,h.zw)(o.selectedStatus),1)])]),(0,a._)("div",Ds,[(0,a._)("div",Ps,[Ms,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.selectedDevs,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"text-container4",key:e.id},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)))),128))])])]),(0,a._)("div",Cs,[(0,a._)("div",Ns,[(0,a._)("div",Is,[(0,a._)("div",Ss,[(0,a.Wm)(c,{columns:o.historyColumns,data:o.historyData,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!1},ref:"the-tables"},{default:(0,a.w5)((()=>[Us,As])),_:1},8,["columns","data"])])])])])]),(0,a._)("div",xs,[(0,a._)("div",zs,[(0,a._)("div",null,[(0,a._)("div",Os,[(0,a._)("div",Es,[(0,a._)("div",Rs,[""!=o.errorCreateComment?((0,a.wg)(),(0,a.iD)("span",Ls,(0,h.zw)(o.errorCreateComment),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text",id:"addANote","onUpdate:modelValue":t[21]||(t[21]=e=>o.commentMessage=e),class:"form-control",placeholder:"Type comment..."},null,512),[[r.nr,o.commentMessage]]),(0,a._)("button",Vs,[(0,a._)("a",{target:"_blank",onClick:t[22]||(t[22]=e=>n.addComment(o.selectedTicketId,o.commentMessage))},"Publish")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentsOfCurrPage,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"comments",key:e.id},[(0,a._)("div",qs,[(0,a._)("div",Hs,[(0,a._)("p",null,(0,h.zw)(e.message),1),(0,a._)("div",Fs,[(0,a._)("div",$s,[(0,a._)("p",Gs,(0,h.zw)(e.commenter.firstName)+" "+(0,h.zw)(e.commenter.lastName),1)]),(0,a._)("div",Ws,[(0,a._)("p",Ys,(0,h.zw)(e.creationDate.substring(0,19)),1)])])])])])))),128)),(0,a._)("p",null,[o.prevActive?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"badge",onClick:t[23]||(t[23]=e=>n.gotoPrev())},"Prev")):((0,a.wg)(),(0,a.iD)("a",Bs,"Prev")),(0,a.Uk)(" - "+(0,h.zw)(o.pageIndex+1)+" - ",1),o.nextActive?((0,a.wg)(),(0,a.iD)("a",{key:2,class:"badge",onClick:t[24]||(t[24]=e=>n.gotoNext())},"Next")):((0,a.wg)(),(0,a.iD)("a",Ks,"Next"))])])])])])])])])])])],64)}var Js=s(2166);class Qs{getAllProjects(){return ye.get("/test/projects")}getAssignedProjectForDev(e){return ye.get("/test/developer/projects/".concat(e))}getProjectWithId(e){return ye.get("/test/project/".concat(e))}createProject(e,t,s){return ye.post("/test/project/create/",null,{params:{name:e,description:t,projectManagerUsername:s}})}assignDevsToProject(e,t){return ye.post("/test/project/setDevs/".concat(e),null,{params:{devUsernames:t}})}modifyProject(e,t,s){return ye.post("/test/project/modify/",null,{params:{projectId:e,name:t,description:s}})}assignPMToProject(e,t){return ye.post("/test/project/assignPm/".concat(t),null,{params:{projectId:e}})}deleteProject(e){return ye.post("/test/project/delete/".concat(e),null,{})}}var Xs=new Qs;class er{getAllTickets(){return ye.get("/test/tickets/")}getAssignedTicketsForDev(e){return ye.get("/test/developer/tickets/".concat(e))}getTicketsForProjectWithId(e){return ye.get("/test/project/tickets/".concat(e))}createTicket(e,t,s,r,a,i,o){return ye.post("/test/ticket/create/",null,{params:{title:e,description:t,priority:s,status:r,type:a,projectId:i,submitterUsername:o}})}assignDevsToTicket(e,t){return ye.post("/test/ticket/assignDevs/".concat(e),null,{params:{devUsernames:t}})}modifyTicket(e,t,s,r,a,i){return ye.post("/test/ticket/modify/".concat(e),null,{params:{title:t,description:s,priority:r,status:a,type:i}})}assignProjectToTicket(e,t){return ye.post("/test/ticket/project/".concat(e),null,{params:{projectId:t}})}createCommentForTicket(e,t,s){return ye.post("/test/ticket/createComment/".concat(e),null,{params:{commenterUsername:t,message:s}})}deleteTicket(e){return ye.post("/test/ticket/delete/".concat(e),null,{})}}var tr=new er;ve.Z.use(be.Z);var sr={name:"TicketPage",components:{NavBar:ge,DataTable:ve.Z},props:{ticketType:String},data(){return{historyData:[],data:[],projects:[],developers:[],commentMessage:"",errorCreateTicket:"",errorModifyTicket:"",errorDeleteTicket:"",errorCreateComment:"",errorSelectTicket:"",errorAssignDevsToTicket:"",errorAssignDevsToTicketInModify:"",errorAssignProjectToTicket:"",errorAssignProjectToTicketInModify:"",errorGetProjects:"",errorGetProject:"",errorGetTickets:"",errorGetDevelopers:"",selectedTicketSubmitter:"",selectedTitle:"",selectedProject:"",selectedDescription:"",selectedDevs:[],selectedTA:[],selectedComments:[],selectedPriority:"",selectedType:"",selectedStatus:"",selectedTicketId:"",historyColumns:[{data:"propertyChanged"},{data:"oldValueOfProperty"},{data:"newValueOfProperty"},{render:function(e,t,s){return s.dateOfChange.substring(0,10)}}],columns:[{data:"title"},{render:function(e,t,s){return s.submitter.firstName+" "+s.submitter.lastName}},{data:"priority"},{data:"type"},{data:"status"},{render:function(e,t,s){return s.creationDate.substring(0,19)}},{data:"project.name"}],ticketProject:"null",ticketDevs:"",projectDevs:[],title:"",description:"",priority:"null",status:"null",type:"null",newTicketProject:"",projectDevsModify:[],newTicketDevs:[],newTitle:"",newDescription:"",newPriority:"",newStatus:"",newType:"",priorityChoices:["None","Low","Medium","High"],typeChoices:["Bug","FeatureRequest","DocRequest","Other"],statusChoices:["New","Open","InProgress","Resolved","AddInfo"],projectDevsCreate:[],pageSize:3,pageIndex:0,prevActive:!1,nextActive:!1}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))},pages:function(){return this.selectedComments.length%this.pageSize==0?this.selectedComments.length/this.pageSize:Math.floor(this.selectedComments.length/this.pageSize)+1},commentsOfCurrPage:function(){return this.selectedComments.slice(this.pageSize*this.pageIndex,this.pageSize*(this.pageIndex+1))},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?(Xs.getAllProjects().then((e=>{this.projects=e.data}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.currentUserIsAdminOrPM?tr.getAllTickets().then((e=>{this.data=e.data}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):tr.getAssignedTicketsForDev(this.currentUser.username).then((e=>{this.data=e.data}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.$router.push("/login")},methods:{setDevs(e){Xs.getProjectWithId(e).then((e=>{this.r=e.data,this.projectDevsModify=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},setDevsCreate(e){Xs.getProjectWithId(e).then((e=>{this.r=e.data,this.projectDevsCreate=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},clickRow(){this.resetErrorMessages();const e=this.$refs.table.dt;var t=e.row(".selected").data();if(null!=t){for(var s of(this.selectedTicketSubmitter=t.submitter,this.selectedTicketId=t.id,this.selectedTitle=t.title,this.selectedProject=t.project,this.selectedDescription=t.description,this.selectedDevs=t.assignedDevelopers,this.selectedTA=t.ticketAttachments,this.selectedPriority=t.priority,this.selectedType=t.type,this.selectedStatus=t.status,this.selectedComments=t.comments,this.newTicketProject=t.project.id,Xs.getProjectWithId(this.newTicketProject).then((e=>{this.r=e.data,this.projectDevsModify=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),t.assignedDevelopers))this.newTicketDevs.push(s.username);if(this.newTitle=t.title,this.newDescription=t.description,this.newPriority=t.priority,this.newStatus=t.status,this.newType=t.type,this.historyData=[],null!=t.ticketHistories)for(var r of t.ticketHistories)this.historyData.push(r);this.pageIndex=0,this.prevActive=!1,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}},resetErrorMessages(){this.errorSelectTicket="",this.errorCreateTicket="",this.errorModifyTicket="",this.errorDeleteTicket="",this.errorCreateComment="",this.errorAssignDevsToTicket="",this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicket="",this.errorAssignProjectToTicketInModify="",this.errorGetProjects="",this.errorGetProject="",this.errorGetTickets="",this.errorGetDevelopers=""},createTicket:function(e,t,s,r,a,i,o){this.resetErrorMessages(),0!=o.length?(this.errorAssignDevsToTicket="",tr.createTicket(e,t,s,r,a,i,this.currentUser.username).then((e=>{this.r=e.data;var t=this.r.id;tr.assignDevsToTicket(t,o.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data.push(e.data),this.title="",this.description="",this.ticketProject="",this.ticketDevs=[],this.priority="",this.type="",this.status="",this.$refs.CloseCreate.click()}),(e=>{this.errorAssignDevsToTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},modifyTicket:function(e,t,s,r,a,i,o,l){this.resetErrorMessages();var c=this.data.map((e=>e.id)).indexOf(e);tr.modifyTicket(e,t,s,r,a,i).then((t=>{this.r=t.data,tr.assignDevsToTicket(e,l.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data[c].assignedDevelopers=e.data.assignedDevelopers,this.selectedDevs=e.data.assignedDevelopers}),(e=>{this.errorAssignDevsToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),tr.assignProjectToTicket(e,o).then((e=>{this.data[c].project=e.data.project,this.selectedProject=e.data.project}),(e=>{this.errorAssignProjectToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.data[c].title=this.r.title,this.selectedTitle=this.r.title,this.data[c].description=this.r.description,this.selectedDescription=this.r.description,this.data[c].priority=this.r.priority,this.selectedPriority=this.r.priority,this.data[c].status=this.r.status,this.selectedStatus=this.r.status,this.data[c].type=this.r.type,this.selectedType=this.r.type,this.data[c].ticketHistories=this.r.ticketHistories,this.historyData=this.r.ticketHistories,this.$refs.CloseModify.click()}),(e=>{this.errorModifyTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},gotoPrev:function(){this.pageIndex>0&&(this.pageIndex-=1,this.nextActive=!0,this.pageIndex>0?this.prevActive=!0:this.prevActive=!1)},gotoNext:function(){this.pageIndex<this.pages-1&&(this.pageIndex+=1,this.prevActive=!0,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1)},addComment:function(e,t){this.resetErrorMessages();const s=this.$refs.table.dt;var r=s.row(".selected").data();if(null==r)this.errorCreateComment="No ticket selected. ";else if(null==t||""==t)this.errorCreateComment="Comment cannot be empty. ";else{var a=this.data.map((e=>e.id)).indexOf(e);tr.createCommentForTicket(e,this.currentUser.username,t).then((e=>{this.r=e.data,this.data[a].comments=this.r.comments,this.selectedComments=this.r.comments,this.commentMessage="",this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}),(e=>{this.errorCreateComment=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},checkIfTicketSelected:function(){this.resetErrorMessages();const e=this.$refs.table.dt;var t=e.row(".selected").data();null==t?this.errorSelectTicket="No ticket selected. ":(this.modalInstance=new Js.u_(document.getElementById("exampleModal1"),{target:"#my-modal"}),this.modalInstance.show())},deleteTicket:function(e){this.resetErrorMessages();const t=this.$refs.table.dt;var s=t.row(".selected").data();if(null==s)this.errorSelectTicket="No ticket selected. ";else{var r=this.data.map((e=>e.id)).indexOf(e);tr.deleteTicket(e).then((e=>{this.r=e.data,this.selectedTitle="",this.selectedProject="",this.selectedDescription="",this.selectedTicketSubmitter="",this.selectedType="",this.selectedPriority="",this.selectedStatus="",this.selectedDevs=[],this.historyData=[],this.selectedComments=[],-1!==r&&this.data.splice(r,1)}),(e=>{this.errorDeleteTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const rr=(0,c.Z)(sr,[["render",Zs],["__scopeId","data-v-07d377fc"]]);var ar=rr,ir={name:"TicketView",components:{TicketPage:ar}};const or=(0,c.Z)(ir,[["render",Ne]]);var nr=or;function lr(e,t,s,r,i,o){const n=(0,a.up)("DashboardPage");return(0,a.wg)(),(0,a.j4)(n)}const cr=e=>((0,a.dD)("data-v-03c7fcf4"),e=e(),(0,a.Cn)(),e),dr={class:"container"},pr=cr((()=>(0,a._)("h1",null,"DASHBOARD",-1))),mr={class:"thecontent"},ur=(0,a.uE)('<div class="row" data-v-03c7fcf4><div class="col" data-v-03c7fcf4><p data-v-03c7fcf4>Tickets by priority</p><div class="pie-container" data-v-03c7fcf4><canvas id="planet-chart" data-v-03c7fcf4></canvas></div></div><div class="col" data-v-03c7fcf4><p data-v-03c7fcf4>Tickets by type</p><div class="pie-container" data-v-03c7fcf4><canvas id="planet-chart2" data-v-03c7fcf4></canvas></div></div><div class="col" data-v-03c7fcf4><p data-v-03c7fcf4>Tickets by status</p><div class="pie-container" data-v-03c7fcf4><canvas id="planet-chart3" data-v-03c7fcf4></canvas></div></div></div>',1),hr={class:"row"},gr={class:"col"},vr={class:"table-responsive"},br={class:"table caption-top"},fr={key:0},kr={key:1},yr=cr((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Project Manager")])],-1))),wr={class:"btn-container"},_r=cr((()=>(0,a._)("button",{type:"button",class:"btn btn-outline-primary"}," View all ",-1))),Tr={class:"col"},jr={class:"table-responsive"},Dr={class:"table caption-top"},Pr={key:0},Mr={key:1},Cr=cr((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status")])],-1))),Nr={class:"btn-container"},Ir=cr((()=>(0,a._)("button",{type:"button",class:"btn btn-outline-primary"}," View all ",-1)));function Sr(e,t,s,r,i,o){const n=(0,a.up)("NavBar"),l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n),(0,a._)("div",dr,[pr,(0,a._)("div",mr,[ur,(0,a._)("div",hr,[(0,a._)("div",gr,[(0,a._)("div",vr,[(0,a._)("table",br,[o.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",fr," All Projects ")):((0,a.wg)(),(0,a.iD)("caption",kr," Assigned Projects ")),yr,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projects,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,h.zw)(e.name),1),(0,a._)("td",null,(0,h.zw)(e.description),1),(0,a._)("td",null,(0,h.zw)(e.projectManager.firstName)+" "+(0,h.zw)(e.projectManager.lastName),1)])))),128))])]),(0,a._)("div",wr,[(0,a.Wm)(l,{to:"/projects"},{default:(0,a.w5)((()=>[_r])),_:1})])])]),(0,a._)("div",Tr,[(0,a._)("div",jr,[(0,a._)("table",Dr,[o.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",Pr," All Tickets ")):((0,a.wg)(),(0,a.iD)("caption",Mr," Assigned Tickets ")),Cr,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tickets,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,h.zw)(e.title),1),(0,a._)("td",null,(0,h.zw)(e.description),1),(0,a._)("td",null,(0,h.zw)(e.priority),1),(0,a._)("td",null,(0,h.zw)(e.type),1),(0,a._)("td",null,(0,h.zw)(e.status),1)])))),128))])]),(0,a._)("div",Nr,[(0,a.Wm)(l,{to:"/tickets"},{default:(0,a.w5)((()=>[Ir])),_:1})])])])])])])],64)}var Ur=s(4531),Ar=s.n(Ur),xr={name:"DashboardPage",components:{NavBar:ge},data(){return{projects:[],tickets:[],errorGetProjects:"",errorGetTickets:"",nbNoneTicket:0,nbLowTicket:0,nbMediumTicket:0,nbHighTicket:0,nbBugTicket:0,nbFRTicket:0,nbDRTicket:0,nbOtherTicket:0,nbNewTicket:0,nbOpenTicket:0,nbProgressTicket:0,nbResolvedTicket:0,nbAddInfoTicket:0,planetChartData:{type:"pie",data:{labels:["None","Low","Medium","High"],datasets:[{label:"Priority",data:[0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},planetChartData2:{type:"pie",data:{labels:["Bug","FeatureRequest","DocRequest","Other"],datasets:[{label:"Type",data:[0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},planetChartData3:{type:"pie",data:{labels:["New","Open","InProgress","Resolved","AddInfo"],datasets:[{label:"Status",data:[0,0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(100, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},myChart:"",myChart2:"",myChart3:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))}},mounted(){const e=document.getElementById("planet-chart");this.myChart=new(Ar())(e,this.planetChartData);const t=document.getElementById("planet-chart2");this.myChart2=new(Ar())(t,this.planetChartData2);const s=document.getElementById("planet-chart3");this.myChart3=new(Ar())(s,this.planetChartData3)},created:function(){this.loggedIn?this.currentUserIsAdminOrPM?(Xs.getAllProjects().then((e=>{this.projects=e.data.slice(0,3)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),tr.getAllTickets().then((e=>{var t=e.data;for(var s of t){var r=s.priority;"Medium"==r?this.nbMediumTicket=this.nbMediumTicket+1:"High"==r?this.nbHighTicket=this.nbHighTicket+1:"Low"==r?this.nbLowTicket=this.nbLowTicket+1:this.nbNoneTicket=this.nbNoneTicket+1;var a=s.type;"Bug"==a?this.nbBugTicket=this.nbBugTicket+1:"FeatureRequest"==a?this.nbFRTicket=this.nbFRTicket+1:"DocRequest"==a?this.nbDRTicket=this.nbDRTicket+1:this.nbOtherTicket=this.nbOtherTicket+1;var i=s.status;"New"==i?this.nbNewTicket=this.nbNewTicket+1:"Open"==i?this.nbOpenTicket=this.nbOpenTicket+1:"InProgress"==i?this.nbProgressTicket=this.nbProgressTicket+1:"Resolved"==i?this.nbResolvedTicket=this.nbResolvedTicket+1:this.nbAddInfoTicket=this.nbAddInfoTicket+1}this.myChart.data.datasets[0].data=[this.nbNoneTicket,this.nbLowTicket,this.nbMediumTicket,this.nbHighTicket],this.myChart2.data.datasets[0].data=[this.nbBugTicket,this.nbFRTicket,this.nbDRTicket,this.nbOtherTicket],this.myChart3.data.datasets[0].data=[this.nbNewTicket,this.nbOpenTicket,this.nbProgressTicket,this.nbResolvedTicket,this.nbAddInfoTicket],this.myChart.update(),this.myChart2.update(),this.myChart3.update(),this.tickets=t.slice(0,3)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):(Xs.getAssignedProjectForDev(this.currentUser.username).then((e=>{this.projects=e.data.slice(0,3)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),tr.getAssignedTicketsForDev(this.currentUser.username).then((e=>{var t=e.data;for(var s of t){var r=s.priority;"Medium"==r?this.nbMediumTicket=this.nbMediumTicket+1:"High"==r?this.nbHighTicket=this.nbHighTicket+1:"Low"==r?this.nbLowTicket=this.nbLowTicket+1:this.nbNoneTicket=this.nbNoneTicket+1;var a=s.type;"Bug"==a?this.nbBugTicket=this.nbBugTicket+1:"FeatureRequest"==a?this.nbFRTicket=this.nbFRTicket+1:"DocRequest"==a?this.nbDRTicket=this.nbDRTicket+1:this.nbOtherTicket=this.nbOtherTicket+1;var i=s.status;"New"==i?this.nbNewTicket=this.nbNewTicket+1:"Open"==i?this.nbOpenTicket=this.nbOpenTicket+1:"InProgress"==i?this.nbProgressTicket=this.nbProgressTicket+1:"Resolved"==i?this.nbResolvedTicket=this.nbResolvedTicket+1:this.nbAddInfoTicket=this.nbAddInfoTicket+1}this.myChart.data.datasets[0].data=[this.nbNoneTicket,this.nbLowTicket,this.nbMediumTicket,this.nbHighTicket],this.myChart2.data.datasets[0].data=[this.nbBugTicket,this.nbFRTicket,this.nbDRTicket,this.nbOtherTicket],this.myChart3.data.datasets[0].data=[this.nbNewTicket,this.nbOpenTicket,this.nbProgressTicket,this.nbResolvedTicket,this.nbAddInfoTicket],this.myChart.update(),this.myChart2.update(),this.myChart3.update(),this.tickets=t.slice(0,3)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.$router.push("/login")}};const zr=(0,c.Z)(xr,[["render",Sr],["__scopeId","data-v-03c7fcf4"]]);var Or=zr,Er={name:"DashboardView",components:{DashboardPage:Or}};const Rr=(0,c.Z)(Er,[["render",lr]]);var Lr=Rr;function Vr(e,t,s,r,i,o){const n=(0,a.up)("LoginPage");return(0,a.wg)(),(0,a.j4)(n)}const qr=e=>((0,a.dD)("data-v-d136272e"),e=e(),(0,a.Cn)(),e),Hr={class:"container"},Fr={class:"hey"},$r=qr((()=>(0,a._)("div",{class:"header"},[(0,a._)("h3",null,"Log in")],-1))),Gr={class:"row"},Wr={class:"col-md-12"},Yr={class:"form-group mb-12"},Br=qr((()=>(0,a._)("label",{for:"username"},"Username",-1))),Kr={class:"form-group mb-12"},Zr=qr((()=>(0,a._)("label",{for:"password"},"Password",-1))),Jr={class:"form-group mb-12"},Qr=["disabled"],Xr={class:"spinner-border spinner-border-sm"},ea=qr((()=>(0,a._)("span",null,"Login",-1))),ta={class:"form-group mb-12"},sa={key:0,class:"alert alert-danger",role:"alert"},ra={class:"form-group mb-12"},aa=["disabled"],ia={class:"spinner-border spinner-border-sm"},oa=qr((()=>(0,a._)("span",null,"Login as a demo developer",-1)));function na(e,t,s,i,o,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("Field"),d=(0,a.up)("ErrorMessage"),p=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Hr,[(0,a._)("div",Fr,[$r,(0,a._)("div",Gr,[(0,a._)("div",Wr,[(0,a.Wm)(p,{class:"d-flex flex-column",onSubmit:n.handleLogin,"validation-schema":o.schema},{default:(0,a.w5)((()=>[(0,a._)("div",Yr,[Br,(0,a.Wm)(c,{name:"username",type:"text",class:"form-control"}),(0,a.Wm)(d,{name:"username",class:"error-feedback"})]),(0,a._)("div",Kr,[Zr,(0,a.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,a.Wm)(d,{name:"password",class:"error-feedback"})]),(0,a._)("div",Jr,[(0,a._)("button",{class:"btn btn-primary btn-block",disabled:o.loading},[(0,a.wy)((0,a._)("span",Xr,null,512),[[r.F8,o.loading]]),ea],8,Qr)]),(0,a._)("div",ta,[o.message?((0,a.wg)(),(0,a.iD)("div",sa,(0,h.zw)(o.message),1)):(0,a.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"]),(0,a._)("div",ra,[(0,a._)("button",{class:"btn btn-primary btn-block",disabled:o.loadingDemo,onClick:t[0]||(t[0]=e=>n.handleLogin(o.demoUser))},[(0,a.wy)((0,a._)("span",ia,null,512),[[r.F8,o.loadingDemo]]),oa],8,aa)])])])])])],64)}var la=s(5708),ca=s(7629),da={name:"LoginPage",components:{NavBar:ge,Form:la.l0,Field:la.gN,ErrorMessage:la.Bc},data(){const e=ca.Ry().shape({username:ca.Z_().required("Username is required!"),password:ca.Z_().required("Password is required!")});return{demoUser:{username:"Demo",password:"demo1234"},loading:!1,loadingDemo:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/dashboard")},methods:{handleLogin(e){"Demo"==e.username?this.loadingDemo=!0:this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>{this.$router.push("/dashboard")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const pa=(0,c.Z)(da,[["render",na],["__scopeId","data-v-d136272e"]]);var ma=pa,ua={name:"LoginView",components:{LoginPage:ma}};const ha=(0,c.Z)(ua,[["render",Vr]]);var ga=ha;function va(e,t,s,r,i,o){const n=(0,a.up)("MyAccountPage");return(0,a.wg)(),(0,a.j4)(n)}var ba=s.p+"img/user.2a0a00e9.svg";const fa=e=>((0,a.dD)("data-v-6469b7cc"),e=e(),(0,a.Cn)(),e),ka={class:"container"},ya=fa((()=>(0,a._)("h1",null,"MY ACCOUNT",-1))),wa={class:"account"},_a={class:"containers"},Ta=fa((()=>(0,a._)("img",{src:ba,alt:"",width:"50",height:"50",class:"d-inline-block align-text-top"},null,-1))),ja={class:"username"},Da={class:"row"},Pa={class:"col-md-12"},Ma={class:"mb-12"},Ca=fa((()=>(0,a._)("label",{for:"formGroupExampleInput",class:"form-label"},"First name",-1))),Na={class:"mb-12"},Ia=fa((()=>(0,a._)("label",{for:"formGroupExampleInput2",class:"form-label"},"Last name",-1))),Sa={class:"mb-12"},Ua=fa((()=>(0,a._)("label",{for:"formGroupExampleInput2",class:"form-label"},"Email",-1))),Aa={class:"mb-12"};function xa(e,t,s,i,o,n){const l=(0,a.up)("NavBar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",ka,[ya,(0,a._)("div",wa,[(0,a._)("div",_a,[Ta,(0,a._)("div",ja,(0,h.zw)(o.newParams.username),1),(0,a._)("span",null,(0,h.zw)(o.errorModifyUser),1),(0,a._)("div",Da,[(0,a._)("div",Pa,[(0,a._)("div",Ma,[Ca,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.newParams.firstName=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[r.nr,o.newParams.firstName]])]),(0,a._)("div",Na,[Ia,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.newParams.lastName=e),class:"form-control",id:"formGroupExampleInput2"},null,512),[[r.nr,o.newParams.lastName]])]),(0,a._)("div",Sa,[Ua,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.newParams.email=e),class:"form-control",id:"formGroupExampleInput2"},null,512),[[r.nr,o.newParams.email]])]),(0,a._)("div",Aa,[(0,a._)("button",{type:"submit",onClick:t[3]||(t[3]=e=>n.modifyUser(o.newParams.username,o.newParams.email,o.newParams.password,o.newParams.firstName,o.newParams.lastName)),class:"btn btn-primary"}," Submit ")])])])])])])],64)}var za={name:"MyAccountPage",components:{NavBar:ge},data(){return{item:"",newParams:{username:"",email:"",password:"",firstName:"",lastName:""},errorGetUser:"",errorModifyUser:"",response:[]}},computed:{currentUser(){return this.$store.state.auth.user},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?_e.getUserWithUsername(this.currentUser.username).then((e=>{this.newParams.username=e.data.username,this.newParams.email=e.data.email,this.newParams.password=e.data.password,this.newParams.firstName=e.data.firstName,this.newParams.lastName=e.data.lastName}),(e=>{this.errorGetUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):this.$router.push("/login")},methods:{modifyUser:function(e,t,s,r,a){_e.modifyUser(this.currentUser.username,e,t,s,r,a).then((e=>{this.errorModifyUser="",this.newParams.username=e.data.username,this.newParams.email=e.data.email,this.newParams.password=e.data.password,this.newParams.firstName=e.data.firstName,this.newParams.lastName=e.data.lastName}),(e=>{this.errorModifyUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}};const Oa=(0,c.Z)(za,[["render",xa],["__scopeId","data-v-6469b7cc"]]);var Ea=Oa,Ra={name:"MyAccountView",components:{MyAccountPage:Ea}};const La=(0,c.Z)(Ra,[["render",va]]);var Va=La;function qa(e,t,s,r,i,o){const n=(0,a.up)("ProjectPage");return(0,a.wg)(),(0,a.j4)(n)}const Ha=e=>((0,a.dD)("data-v-c70e9fc4"),e=e(),(0,a.Cn)(),e),Fa={class:"modal",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},$a={class:"modal-dialog"},Ga={class:"modal-content"},Wa=Ha((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ya={class:"modal-body"},Ba={class:"row g-3"},Ka={key:0},Za={key:1},Ja={key:2},Qa={class:"col-md-12"},Xa=Ha((()=>(0,a._)("label",{for:"title",class:"form-label"},"Title",-1))),ei={class:"col-md-12"},ti=Ha((()=>(0,a._)("label",{for:"project",class:"form-label"},"Project",-1))),si=["value"],ri={class:"col-md-12"},ai=Ha((()=>(0,a._)("label",{for:"description",class:"form-label"},"Description",-1))),ii={class:"col-12"},oi=Ha((()=>(0,a._)("label",{for:"devs",class:"form-label"},"Assigned Developers",-1))),ni=["value"],li={class:"col-md-4"},ci=Ha((()=>(0,a._)("label",{for:"priority",class:"form-label"},"Priority",-1))),di={class:"col-md-4"},pi=Ha((()=>(0,a._)("label",{for:"type",class:"form-label"},"Type",-1))),mi={class:"col-md-4"},ui=Ha((()=>(0,a._)("label",{for:"status",class:"form-label"},"Status",-1))),hi={class:"modal-footer"},gi={ref:"CloseModify",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},vi={class:"modal",id:"exampleModal3",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},bi={class:"modal-dialog"},fi={class:"modal-content"},ki=Ha((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),yi={class:"modal-body"},wi={class:"row g-3"},_i={key:0},Ti={key:1},ji={class:"col-md-12"},Di=Ha((()=>(0,a._)("label",{for:"title1",class:"form-label"},"Title",-1))),Pi={class:"col-md-12"},Mi=Ha((()=>(0,a._)("label",{for:"description1",class:"form-label"},"Description",-1))),Ci={class:"col-12"},Ni=Ha((()=>(0,a._)("label",{for:"devs1",class:"form-label"},"Assigned Developers",-1))),Ii=["value"],Si={class:"col-md-4"},Ui=Ha((()=>(0,a._)("label",{for:"priority1",class:"form-label"},"Priority",-1))),Ai=Ha((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),xi={class:"col-md-4"},zi=Ha((()=>(0,a._)("label",{for:"type1",class:"form-label"},"Type",-1))),Oi=Ha((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),Ei={class:"col-md-4"},Ri=Ha((()=>(0,a._)("label",{for:"status1",class:"form-label"},"Status",-1))),Li=Ha((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),Vi={class:"modal-footer"},qi={ref:"CloseTicket",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},Hi={class:"container"},Fi=Ha((()=>(0,a._)("h1",null,"PROJECTS",-1))),$i={class:"modal",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Gi={class:"modal-dialog"},Wi={class:"modal-content"},Yi=Ha((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New project"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Bi={class:"modal-body"},Ki={class:"row g-3"},Zi={key:0},Ji={key:1},Qi={class:"col-md-12"},Xi=Ha((()=>(0,a._)("label",{for:"inputEmail4",class:"form-label"},"Title",-1))),eo={class:"col-md-12"},to=Ha((()=>(0,a._)("label",{for:"inputPassword4",class:"form-label"},"Description",-1))),so={class:"col-12"},ro=Ha((()=>(0,a._)("label",{for:"inputAddress",class:"form-label"},"Assigned Developers",-1))),ao=["value"],io={class:"col-12"},oo=Ha((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"Project Manager",-1))),no=Ha((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),lo=["value"],co={class:"modal-footer"},po={ref:"Close",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},mo={class:"theContent"},uo={class:"tables"},ho={class:"row"},go={class:"col"},vo={class:"table-responsive"},bo=Ha((()=>(0,a._)("caption",null," Assigned projects ",-1))),fo=Ha((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Project Manager")])],-1))),ko={key:0,type:"button",class:"btn btn-primary"},yo=Ha((()=>(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal2"},"New project",-1))),wo=[yo],_o={class:"outer-container"},To=Ha((()=>(0,a._)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Project information ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," Tickets ")])],-1))),jo={class:"tab-content",id:"myTabContent"},Do={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},Po=Ha((()=>(0,a._)("div",{class:"text-container"},"Edit project information",-1))),Mo={class:"afterTabTitle"},Co={class:"form-container"},No={key:0,class:"row g-3"},Io={key:0},So={key:1},Uo={key:2},Ao={key:3},xo={class:"col-md-6"},zo=Ha((()=>(0,a._)("label",{for:"inputEmail4",class:"form-label"},"TITLE",-1))),Oo={class:"col-md-6"},Eo=Ha((()=>(0,a._)("label",{for:"inputPassword4",class:"form-label"},"DESCRIPTION",-1))),Ro={class:"col-md-6"},Lo=Ha((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"PROJECT MANAGER",-1))),Vo=["value"],qo={class:"col-md-6"},Ho=Ha((()=>(0,a._)("label",{for:"inputAddress",class:"form-label"},"ASSIGNED DEVELOPERS",-1))),Fo=["value"],$o={class:"col-md-10"},Go={class:"col-md-2"},Wo={key:1,class:"projectInfoContainer"},Yo={class:"row g-3"},Bo={class:"col-md-6"},Ko=Ha((()=>(0,a._)("label",{for:"pname",class:"form-label"},"TITLE",-1))),Zo={class:"col-md-6"},Jo=Ha((()=>(0,a._)("label",{for:"pdescription",class:"form-label"},"DESCRIPTION",-1))),Qo={class:"col-md-6"},Xo=Ha((()=>(0,a._)("label",{for:"ppm",class:"form-label"},"PROJECT MANAGER",-1))),en={class:"col-md-6"},tn=Ha((()=>(0,a._)("label",{for:"pdevs",class:"form-label"},"ASSIGNED DEVELOPERS",-1))),sn={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},rn=Ha((()=>(0,a._)("div",{class:"text-container"}," Tickets assigned to the selected project ",-1))),an={class:"row g-100"},on={class:"table-responsive"},nn={key:0},ln=Ha((()=>(0,a._)("caption",null," List of tickets ",-1))),cn=Ha((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Author"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status"),(0,a._)("th",{scope:"col"},"Creation date"),(0,a._)("th",{scope:"col"},"Project"),(0,a._)("th",{scope:"col"})])],-1))),dn={class:"row"},pn=Ha((()=>(0,a._)("div",{class:"col-md-2"},[(0,a._)("button",{type:"button",class:"btn btn-primary"},[(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal3"},"New ticket")])],-1))),mn={class:"col-md-8"},un={type:"button",class:"btn btn-primary"},hn={class:"col-md-2"},gn={class:"row g-3"},vn={class:"col"},bn={class:"ticket-info"},fn=Ha((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"text-container"}," Selected ticket information ")],-1))),kn={class:"row"},yn={class:"col-6"},wn=Ha((()=>(0,a._)("div",{class:"text-container3"},"TITLE",-1))),_n={class:"text-container4"},Tn={class:"col-6"},jn=Ha((()=>(0,a._)("div",{class:"text-container3"},"PROJECT",-1))),Dn={class:"text-container4"},Pn={class:"row"},Mn={class:"col"},Cn=Ha((()=>(0,a._)("div",{class:"text-container3"},"DESCRIPTION",-1))),Nn={class:"text-container4"},In={class:"col"},Sn=Ha((()=>(0,a._)("div",{class:"text-container3"},"AUTHOR",-1))),Un={class:"text-container4"},An={class:"row"},xn={class:"col"},zn=Ha((()=>(0,a._)("div",{class:"text-container3"},"TYPE",-1))),On={class:"text-container4"},En={class:"col"},Rn=Ha((()=>(0,a._)("div",{class:"text-container3"},"PRIORITY",-1))),Ln={class:"text-container4"},Vn={class:"col"},qn=Ha((()=>(0,a._)("div",{class:"text-container3"},"STATUS",-1))),Hn={class:"text-container4"},Fn={class:"row"},$n={class:"col"},Gn=Ha((()=>(0,a._)("div",{class:"text-container3"},"ASSIGNED DEVS",-1))),Wn={class:"ticket-hist"},Yn={class:"row"},Bn={class:"col"},Kn={class:"table-responsive"},Zn=Ha((()=>(0,a._)("caption",null," Ticket history ",-1))),Jn=Ha((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Property changed"),(0,a._)("th",{scope:"col"},"Old value"),(0,a._)("th",{scope:"col"},"New value"),(0,a._)("th",{scope:"col"},"Date of change")])],-1))),Qn={class:"col"},Xn={class:"row d-flex justify-content-center"},el={class:"card shadow-0 border",style:{"background-color":"#f0f2f5"}},tl={class:"card-body p-4"},sl={"data-mdb-input-init":"",class:"form-outline mb-4"},rl={key:0},al={type:"button",class:"btn btn-primary"},il={class:"card mb-4"},ol={class:"card-body"},nl={class:"d-flex justify-content-between"},ll={class:"d-flex flex-row align-items-center"},cl={class:"small mb-0 ms-2"},dl={class:"d-flex flex-row align-items-center"},pl={class:"small text-muted mb-0"},ml={key:1,class:"badgeInactive"},ul={key:3,class:"badgeInactive"},hl=Ha((()=>(0,a._)("div",{class:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab"}," ... ",-1)));function gl(e,t,s,i,o,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Fa,[(0,a._)("div",$a,[(0,a._)("div",Ga,[Wa,(0,a._)("div",Ya,[(0,a._)("form",Ba,[""!=o.errorModifyTicket?((0,a.wg)(),(0,a.iD)("span",Ka,(0,h.zw)(o.errorModifyTicket),1)):(0,a.kq)("",!0),""!=o.errorAssignDevsToTicketInModify?((0,a.wg)(),(0,a.iD)("span",Za,(0,h.zw)(o.errorAssignDevsToTicketInModify),1)):(0,a.kq)("",!0),""!=o.errorAssignProjectToTicketInModify?((0,a.wg)(),(0,a.iD)("span",Ja,(0,h.zw)(o.errorAssignProjectToTicketInModify),1)):(0,a.kq)("",!0),(0,a._)("div",Qa,[Xa,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>o.newTitle=e),id:"title1"},null,512),[[r.nr,o.newTitle]])]),(0,a._)("div",ei,[ti,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[1]||(t[1]=e=>o.newTicketProject=e),onChange:t[2]||(t[2]=e=>n.setDevs(o.newTicketProject)),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.data,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,si)))),128))],544),[[r.bM,o.newTicketProject]])]),(0,a._)("div",ri,[ai,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>o.newDescription=e),id:"description1"},null,512),[[r.nr,o.newDescription]])]),(0,a._)("div",ii,[oi,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>o.newTicketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.selectedProjectDevs,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,ni)))),128))],512),[[r.bM,o.newTicketDevs]])]),(0,a._)("div",li,[ci,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[5]||(t[5]=e=>o.newPriority=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newPriority]])]),(0,a._)("div",di,[pi,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[6]||(t[6]=e=>o.newType=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newType]])]),(0,a._)("div",mi,[ui,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[7]||(t[7]=e=>o.newStatus=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.newStatus]])])])]),(0,a._)("div",hi,[(0,a._)("button",gi," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=e=>n.modifyTicket(o.selectedTicketId,o.newTitle,o.newDescription,o.newPriority,o.newStatus,o.newType,o.newTicketProject,o.newTicketDevs))}," Save changes ")])])])]),(0,a._)("div",vi,[(0,a._)("div",bi,[(0,a._)("div",fi,[ki,(0,a._)("div",yi,[(0,a._)("form",wi,[""!=o.errorCreateTicket?((0,a.wg)(),(0,a.iD)("span",_i,(0,h.zw)(o.errorCreateTicket),1)):(0,a.kq)("",!0),""!=o.errorAssignDevsToTicket?((0,a.wg)(),(0,a.iD)("span",Ti,(0,h.zw)(o.errorAssignDevsToTicket),1)):(0,a.kq)("",!0),(0,a._)("div",ji,[Di,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>o.ticketTitle=e),id:"title1"},null,512),[[r.nr,o.ticketTitle]])]),(0,a._)("div",Pi,[Mi,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>o.ticketDescription=e),id:"description1"},null,512),[[r.nr,o.ticketDescription]])]),(0,a._)("div",Ci,[Ni,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>o.ticketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.selectedProjectDevs,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Ii)))),128))],512),[[r.bM,o.ticketDevs]])]),(0,a._)("div",Si,[Ui,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[12]||(t[12]=e=>o.ticketPriority=e),class:"form-select"},[Ai,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.ticketPriority]])]),(0,a._)("div",xi,[zi,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[13]||(t[13]=e=>o.ticketType=e),class:"form-select"},[Oi,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.ticketType]])]),(0,a._)("div",Ei,[Ri,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[14]||(t[14]=e=>o.ticketStatus=e),class:"form-select"},[Li,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,o.ticketStatus]])])])]),(0,a._)("div",Vi,[(0,a._)("button",qi," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[15]||(t[15]=e=>n.createTicket(o.ticketTitle,o.ticketDescription,o.ticketPriority,o.ticketStatus,o.ticketType,o.selectedProjectId,o.ticketDevs))}," Create new ticket ")])])])]),(0,a._)("div",Hi,[Fi,(0,a._)("div",$i,[(0,a._)("div",Gi,[(0,a._)("div",Wi,[Yi,(0,a._)("div",Bi,[(0,a._)("form",Ki,[""!=o.errorCreateProject?((0,a.wg)(),(0,a.iD)("span",Zi,(0,h.zw)(o.errorCreateProject),1)):(0,a.kq)("",!0),""!=o.errorSetDevs?((0,a.wg)(),(0,a.iD)("span",Ji,(0,h.zw)(o.errorSetDevs),1)):(0,a.kq)("",!0),(0,a._)("div",Qi,[Xi,(0,a.wy)((0,a._)("input",{type:"title",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>o.projectName=e),id:"title"},null,512),[[r.nr,o.projectName]])]),(0,a._)("div",eo,[to,(0,a.wy)((0,a._)("input",{type:"decription",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=e=>o.projectDescription=e),id:"description"},null,512),[[r.nr,o.projectDescription]])]),(0,a._)("div",so,[ro,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[18]||(t[18]=e=>o.projectDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.developers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,ao)))),128))],512),[[r.bM,o.projectDevs]])]),(0,a._)("div",io,[oo,(0,a.wy)((0,a._)("select",{id:"inputState","onUpdate:modelValue":t[19]||(t[19]=e=>o.projectPM=e),class:"form-select"},[no,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projectManagers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,lo)))),128))],512),[[r.bM,o.projectPM]])])])]),(0,a._)("div",co,[(0,a._)("button",po," Close ",512),(0,a._)("button",{ref:"CreateProject",type:"button","data-dismiss":"modal",class:"btn btn-primary",onClick:t[20]||(t[20]=e=>n.createProject(o.projectName,o.projectDescription,o.projectPM,o.projectDevs))}," Create new project ",512)])])])]),(0,a._)("div",mo,[(0,a._)("div",uo,[(0,a._)("div",ho,[(0,a._)("div",go,[(0,a._)("div",vo,[(0,a.Wm)(c,{columns:o.columns,data:o.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[21]||(t[21]=e=>n.clickRow())},{default:(0,a.w5)((()=>[bo,fo])),_:1},8,["columns","data"])]),n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",ko,wo)):(0,a.kq)("",!0)])])]),(0,a._)("div",_o,[To,(0,a._)("div",jo,[(0,a._)("div",Do,[Po,(0,a._)("div",Mo,[(0,a._)("div",Co,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("form",No,[""!=o.errorModifyProject?((0,a.wg)(),(0,a.iD)("span",Io,(0,h.zw)(o.errorModifyProject),1)):(0,a.kq)("",!0),""!=o.errorSetDevsInModify?((0,a.wg)(),(0,a.iD)("span",So,(0,h.zw)(o.errorSetDevsInModify),1)):(0,a.kq)("",!0),""!=o.errorAssignPMtoProjectInModify?((0,a.wg)(),(0,a.iD)("span",Uo,(0,h.zw)(o.errorAssignPMtoProjectInModify),1)):(0,a.kq)("",!0),""!=o.errorDeleteProject?((0,a.wg)(),(0,a.iD)("span",Ao,(0,h.zw)(o.errorDeleteProject),1)):(0,a.kq)("",!0),(0,a._)("div",xo,[zo,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[22]||(t[22]=e=>o.selectedName=e),id:"selectedName"},null,512),[[r.nr,o.selectedName]])]),(0,a._)("div",Oo,[Eo,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=e=>o.selectedDescription=e),id:"selectedDescription"},null,512),[[r.nr,o.selectedDescription]])]),(0,a._)("div",Ro,[Lo,(0,a.wy)((0,a._)("select",{id:"inputState","onUpdate:modelValue":t[24]||(t[24]=e=>o.selectedPm.username=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projectManagers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Vo)))),128))],512),[[r.bM,o.selectedPm.username]])]),(0,a._)("div",qo,[Ho,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[25]||(t[25]=e=>o.selectedDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.developers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Fo)))),128))],512),[[r.bM,o.selectedDevs]])]),(0,a._)("div",$o,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[26]||(t[26]=e=>n.modifyProject(o.selectedProjectId,o.selectedName,o.selectedDescription,o.selectedPm.username,o.selectedDevs)),class:"btn btn-primary"}," Submit changes ")):(0,a.kq)("",!0)]),(0,a._)("div",Go,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[27]||(t[27]=e=>n.deleteProject(o.selectedProjectId)),class:"btn btn-danger"}," Delete project ")):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.currentUserIsAdminOrPM?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Wo,[(0,a._)("div",Yo,[(0,a._)("div",Bo,[Ko,(0,a._)("p",null,(0,h.zw)(o.selectedName),1)]),(0,a._)("div",Zo,[Jo,(0,a._)("p",null,(0,h.zw)(o.selectedDescription),1)]),(0,a._)("div",Qo,[Xo,(0,a._)("p",null,(0,h.zw)(o.selectedPm.firstName)+" "+(0,h.zw)(o.selectedPm.lastName),1)]),(0,a._)("div",en,[tn,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.selectedDevsObj,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("p",null,(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)])))),128))])])]))])])]),(0,a._)("div",sn,[rn,(0,a._)("div",an,[(0,a._)("div",on,[""!=o.errorSelectTicket?((0,a.wg)(),(0,a.iD)("span",nn,(0,h.zw)(o.errorSelectTicket),1)):(0,a.kq)("",!0),(0,a.Wm)(c,{columns:o.ticketColumns,data:o.projectTickets,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,autoWidth:!1,select:{style:"single",toggleable:!1}},ref:"tableTicket",onSelect:t[28]||(t[28]=e=>n.clickRowTicket())},{default:(0,a.w5)((()=>[ln,cn])),_:1},8,["columns","data"]),(0,a._)("div",dn,[pn,(0,a._)("div",mn,[(0,a._)("button",un,[(0,a._)("a",{target:"_blank",onClick:t[29]||(t[29]=e=>n.checkIfTicketSelected()),"data-bs-target":"#exampleModal1"},"Edit ticket")])]),(0,a._)("div",hn,[(0,a._)("button",{type:"button",onClick:t[30]||(t[30]=e=>n.deleteTicket(o.selectedTicketId)),class:"btn btn-danger"}," Delete ticket ")])])])]),(0,a._)("div",gn,[(0,a._)("div",vn,[(0,a._)("div",bn,[fn,(0,a._)("div",kn,[(0,a._)("div",yn,[wn,(0,a._)("div",_n,(0,h.zw)(o.selectedTicketTitle),1)]),(0,a._)("div",Tn,[jn,(0,a._)("div",Dn,(0,h.zw)(o.selectedTicketProjectName),1)])]),(0,a._)("div",Pn,[(0,a._)("div",Mn,[Cn,(0,a._)("div",Nn,(0,h.zw)(o.selectedTicketDescription),1)]),(0,a._)("div",In,[Sn,(0,a._)("div",Un,(0,h.zw)(o.selectedTicketSubmitter.firstName)+" "+(0,h.zw)(o.selectedTicketSubmitter.lastName),1)])]),(0,a._)("div",An,[(0,a._)("div",xn,[zn,(0,a._)("div",On,(0,h.zw)(o.selectedTicketType),1)]),(0,a._)("div",En,[Rn,(0,a._)("div",Ln,(0,h.zw)(o.selectedTicketPriority),1)]),(0,a._)("div",Vn,[qn,(0,a._)("div",Hn,(0,h.zw)(o.selectedTicketStatus),1)])]),(0,a._)("div",Fn,[(0,a._)("div",$n,[Gn,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.selectedTicketDevs,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"text-container4",key:e.id},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)))),128))])])]),(0,a._)("div",Wn,[(0,a._)("div",Yn,[(0,a._)("div",Bn,[(0,a._)("div",Kn,[(0,a.Wm)(c,{columns:o.historyColumns,data:o.historyData,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!1},ref:"the-tables"},{default:(0,a.w5)((()=>[Zn,Jn])),_:1},8,["columns","data"])])])])])]),(0,a._)("div",Qn,[(0,a._)("div",Xn,[(0,a._)("div",null,[(0,a._)("div",el,[(0,a._)("div",tl,[(0,a._)("div",sl,[""!=o.errorCreateComment?((0,a.wg)(),(0,a.iD)("span",rl,(0,h.zw)(o.errorCreateComment),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text",id:"addANote","onUpdate:modelValue":t[31]||(t[31]=e=>o.commentMessage=e),class:"form-control",placeholder:"Type comment..."},null,512),[[r.nr,o.commentMessage]]),(0,a._)("button",al,[(0,a._)("a",{target:"_blank",onClick:t[32]||(t[32]=e=>n.addComment(o.selectedTicketId,o.commentMessage))},"Publish")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentsOfCurrPage,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"comments",key:e.id},[(0,a._)("div",il,[(0,a._)("div",ol,[(0,a._)("p",null,(0,h.zw)(e.message),1),(0,a._)("div",nl,[(0,a._)("div",ll,[(0,a._)("p",cl,(0,h.zw)(e.commenter.firstName)+" "+(0,h.zw)(e.commenter.lastName),1)]),(0,a._)("div",dl,[(0,a._)("p",pl,(0,h.zw)(e.creationDate.substring(0,19)),1)])])])])])))),128)),(0,a._)("p",null,[o.prevActive?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"badge",onClick:t[33]||(t[33]=e=>n.gotoPrev())},"Prev")):((0,a.wg)(),(0,a.iD)("a",ml,"Prev")),(0,a.Uk)(" - "+(0,h.zw)(o.pageIndex+1)+" - ",1),o.nextActive?((0,a.wg)(),(0,a.iD)("a",{key:2,class:"badge",onClick:t[34]||(t[34]=e=>n.gotoNext())},"Next")):((0,a.wg)(),(0,a.iD)("a",ul,"Next"))])])])])])])])]),hl])])])])],64)}ve.Z.use(be.Z);var vl={name:"ProjectPage",components:{NavBar:ge,DataTable:ve.Z},data(){return{modalInstance:null,ticketTitle:"",ticketDescription:"",ticketPriority:"null",ticketStatus:"null",ticketType:"null",commentMessage:"",historyData:[],data:[],ticketDevs:[],newTicketProject:"",newTicketDevs:[],newTitle:"",newDescription:"",newPriority:"",newStatus:"",newType:"",projectTickets:[],projectManagers:[],developers:[],errorGetProjects:"",errorCreateComment:"",errorDeleteTicket:"",errorGetProject:"",errorCreateProject:"",errorDeleteProject:"",errorAssignDevsToTicket:"",errorAssignDevsToTicketInModify:"",errorAssignProjectToTicket:"",errorAssignProjectToTicketInModify:"",errorCreateTicket:"",errorAssignPMtoProject:"",errorAssignPMtoProjectInModify:"",errorGetDevelopers:"",errorGetProjectTickets:"",errorModifyProject:"",errorModifyTicket:"",errorSetDevs:"",errorSetDevsInModify:"",errorGetPMs:"",errorSelectTicket:"",priorityChoices:["None","Low","Medium","High"],typeChoices:["Bug","FeatureRequest","DocRequest","Other"],statusChoices:["New","Open","InProgress","Resolved","AddInfo"],projectName:"",projectDescription:"",projectPM:"null",projectDevs:[],selectedName:"",selectedDescription:"",selectedDevs:[],selectedDevsObj:[],selectedProjectDevs:[],selectedPm:"",selectedTickets:"",selectedProjectId:"",selectedTicketSubmitter:"",selectedTicketTitle:"",selectedTicketProject:"",selectedTicketProjectName:"",selectedTicketDescription:"",selectedTicketDevs:[],selectedTicketTA:[],selectedComments:[],selectedTicketPriority:"",selectedTicketType:"",selectedTicketStatus:"",selectedTicketId:"",ticketColumns:[{data:"title"},{render:function(e,t,s){return s.submitter.firstName+" "+s.submitter.lastName}},{data:"priority"},{data:"type"},{data:"status"},{render:function(e,t,s){return s.creationDate.substring(0,19)}},{data:"project.name"}],historyColumns:[{data:"propertyChanged"},{data:"oldValueOfProperty"},{data:"newValueOfProperty"},{render:function(e,t,s){return s.dateOfChange.substring(0,19)}}],r:"",columns:[{data:"name"},{data:"description"},{render:function(e,t,s){return s.projectManager.firstName+" "+s.projectManager.lastName}}],pageSize:3,pageIndex:0,prevActive:!1,nextActive:!1}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))},pages:function(){return this.selectedComments.length%this.pageSize==0?this.selectedComments.length/this.pageSize:Math.floor(this.selectedComments.length/this.pageSize)+1},commentsOfCurrPage:function(){return this.selectedComments.slice(this.pageSize*this.pageIndex,this.pageSize*(this.pageIndex+1))},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?this.currentUserIsAdminOrPM?(Xs.getAllProjects().then((e=>{this.data=e.data.slice(0,3)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),_e.getAllDevelopers().then((e=>{this.developers=e.data}),(e=>{this.errorGetDevelopers=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),_e.getAllProjectManagers().then((e=>{this.projectManagers=e.data}),(e=>{this.errorGetPMs=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):Xs.getAssignedProjectForDev(this.currentUser.username).then((e=>{this.data=e.data.slice(0,3)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):this.$router.push("/login")},methods:{setDevs(e){Xs.getProjectWithId(e).then((e=>{this.r=e.data,this.selectedProjectDevs=this.r.assignedDevelopers}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},clickRowTicket(){this.resetErrorMessages();const e=this.$refs.tableTicket.dt;var t=e.row(".selected").data();if(null!=t){if(this.selectedTicketSubmitter=t.submitter,this.selectedTicketId=t.id,this.selectedTicketTitle=t.title,this.selectedTicketProject=t.project.id,this.selectedTicketProjectName=t.project.name,this.selectedTicketDescription=t.description,this.selectedTicketDevs=t.assignedDevelopers,this.selectedTicketTA=t.ticketAttachments,this.selectedTicketPriority=t.priority,this.selectedTicketType=t.type,this.selectedTicketStatus=t.status,this.selectedComments=t.comments,this.newTicketProject=t.project.id,null!=t.assignedDevelopers)for(var s of t.assignedDevelopers)this.newTicketDevs.push(s.username);if(this.newTitle=t.title,this.newDescription=t.description,this.newPriority=t.priority,this.newStatus=t.status,this.newType=t.type,this.historyData=[],null!=t.ticketHistories)for(var r of t.ticketHistories)this.historyData.push(r)}this.pageIndex=0,this.prevActive=!1,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1},clickRow(){this.resetErrorMessages(),this.selectedTicketSubmitter="",this.selectedTicketId="",this.selectedTicketTitle="",this.selectedTicketProject="",this.selectedTicketProjectName="",this.selectedTicketDescription="",this.selectedTicketDevs=[],this.selectedTicketPriority="",this.selectedTicketType="",this.selectedTicketStatus="",this.selectedComments=[],this.historyData=[];const e=this.$refs.tableTicket.dt;e.row(".selected").deselect();const t=this.$refs.table.dt;var s=t.row(".selected").data();for(var r of(this.selectedDevs=[],this.selectedDevsObj=[],this.selectedProjectDevs=s.assignedDevelopers,this.selectedProjectId=s.id,this.selectedName=s.name,this.selectedDescription=s.description,s.assignedDevelopers))this.selectedDevs.push(r.username),this.selectedDevsObj.push(r);this.selectedPm=s.projectManager,this.selectedTickets=s.tickets,tr.getTicketsForProjectWithId(this.selectedProjectId).then((e=>{for(var t of(this.projectTickets=e.data,this.projectTickets))t.project=s}),(e=>{this.errorGetProjectTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},resetErrorMessages(){this.errorGetProjects="",this.errorCreateComment="",this.errorDeleteTicket="",this.errorGetProject="",this.errorCreateProject="",this.errorDeleteProject="",this.errorAssignDevsToTicket="",this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicket="",this.errorAssignProjectToTicketInModify="",this.errorCreateTicket="",this.errorAssignPMtoProject="",this.errorAssignPMtoProjectInModify="",this.errorGetDevelopers="",this.errorGetProjectTickets="",this.errorModifyProject="",this.errorModifyTicket="",this.errorSetDevs="",this.errorSetDevsInModify="",this.errorGetPMs="",this.errorSelectTicket=""},createProject:function(e,t,s,r){this.resetErrorMessages(),0!=r.length?(this.errorSetDevs="",Xs.createProject(e,t,s).then((e=>{this.r=e.data;var t=this.r.id;Xs.assignDevsToProject(t,r.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data.push(e.data),this.projectDescription="",this.projectName="",this.projectPM="",this.projectDevs=[],this.$refs.Close.click()}),(e=>{this.errorSetDevs=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorSetDevs="List of developers cannot be empty"},modifyProject:function(e,t,s,r,a){this.resetErrorMessages(),this.errorDeleteProject="";const i=this.$refs.table.dt;var o=i.row(".selected").data();if(null==o)this.errorModifyProject="No project selected. ";else{var l=this.data.map((e=>e.id)).indexOf(e);0!=a.length?(this.errorSetDevsInModify="",Xs.modifyProject(e,t,s).then((e=>{this.r=e.data,this.data[l].name=t,this.data[l].description=s;var i=this.r.id;Xs.assignPMToProject(i,r).then((e=>{this.data[l].projectManager=e.data.projectManager}),(e=>{this.errorAssignPMtoProjectInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),Xs.assignDevsToProject(i,a.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data[l].assignedDevelopers=e.data.assignedDevelopers}),(e=>{this.errorSetDevsInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorModifyProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorSetDevsInModify="List of developers cannot be empty. "}},deleteProject:function(e){this.resetErrorMessages();const t=this.$refs.table.dt;var s=t.row(".selected").data();if(null==s)this.errorDeleteProject="No project selected. ";else{var r=this.data.map((e=>e.id)).indexOf(e);Xs.deleteProject(e).then((e=>{this.r=e.data,this.selectedName="",this.selectedDescription="",this.selectedPm="",this.selectedDevs=[],-1!==r&&this.data.splice(r,1)}),(e=>{this.errorDeleteProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},createTicket:function(e,t,s,r,a,i,o){this.resetErrorMessages(),0!=o.length?(this.errorAssignDevsToTicket="",tr.createTicket(e,t,s,r,a,i,this.currentUser.username).then((e=>{this.r=e.data;var t=this.r.id;tr.assignDevsToTicket(t,o.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.projectTickets.push(e.data),this.ticketTitle="",this.ticketDescription="",this.ticketPriority="null",this.ticketStatus="null",this.ticketType="null",this.selectedProjectId="",this.ticketDevs=[],this.$refs.CloseTicket.click()}),(e=>{this.errorAssignDevsToTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},modifyTicket:function(e,t,s,r,a,i,o,l){this.resetErrorMessages();var c=this.projectTickets.map((e=>e.id)).indexOf(e);0!=l.length?(this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicketInModify="",tr.modifyTicket(e,t,s,r,a,i).then((t=>{this.r=t.data,tr.assignDevsToTicket(e,l.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.projectTickets[c].assignedDevelopers=e.data.assignedDevelopers,this.selectedTicketDevs=e.data.assignedDevelopers}),(e=>{this.errorAssignDevsToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),tr.assignProjectToTicket(e,o).then((e=>{this.projectTickets[c].project=e.data.project,this.selectedTicketProject=e.data.project.id,this.selectedTicketProjectName=e.data.project.name}),(e=>{this.errorAssignProjectToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.projectTickets[c].title=this.r.title,this.selectedTicketTitle=this.r.title,this.projectTickets[c].description=this.r.description,this.selectedTicketDescription=this.r.description,this.projectTickets[c].priority=this.r.priority,this.selectedTicketPriority=this.r.priority,this.projectTickets[c].status=this.r.status,this.selectedTicketStatus=this.r.status,this.projectTickets[c].type=this.r.type,this.selectedTicketType=this.r.type,this.projectTickets[c].ticketHistories=this.r.ticketHistories,this.historyData=this.r.ticketHistories,this.$refs.CloseModify.click()}),(e=>{this.errorModifyTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},gotoPrev:function(){this.pageIndex>0&&(this.pageIndex-=1,this.nextActive=!0,this.pageIndex>0?this.prevActive=!0:this.prevActive=!1)},gotoNext:function(){this.pageIndex<this.pages-1&&(this.pageIndex+=1,this.prevActive=!0,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1)},addComment:function(e,t){this.resetErrorMessages();const s=this.$refs.tableTicket.dt;var r=s.row(".selected").data();if(null==r)this.errorCreateComment="No ticket selected. ";else if(null==t||""==t)this.errorCreateComment="Comment cannot be empty. ";else{var a=this.projectTickets.map((e=>e.id)).indexOf(e);tr.createCommentForTicket(e,this.currentUser.username,t).then((e=>{this.r=e.data,this.projectTickets[a].comments=this.r.comments,this.selectedComments=this.r.comments,this.commentMessage="",this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}),(e=>{this.errorCreateComment=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},checkIfTicketSelected:function(){this.resetErrorMessages();const e=this.$refs.tableTicket.dt;var t=e.row(".selected").data();null==t?this.errorSelectTicket="No ticket selected. ":(this.modalInstance=new Js.u_(document.getElementById("exampleModal1"),{target:"#my-modal"}),this.modalInstance.show())},deleteTicket:function(e){this.resetErrorMessages();const t=this.$refs.tableTicket.dt;var s=t.row(".selected").data();if(null==s)this.errorSelectTicket="No ticket selected. ";else{var r=this.projectTickets.map((e=>e.id)).indexOf(e);tr.deleteTicket(e).then((e=>{this.r=e.data,this.historyData=[],this.selectedTicketTitle="",this.selectedTicketProjectName="",this.selectedTicketDescription="",this.selectedTicketSubmitter="",this.selectedTicketType="",this.selectedTicketPriority="",this.selectedTicketStatus="",this.selectedTicketDevs=[],this.selectedComments=[],-1!==r&&this.projectTickets.splice(r,1)}),(e=>{this.errorDeleteTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const bl=(0,c.Z)(vl,[["render",gl],["__scopeId","data-v-c70e9fc4"]]);var fl=bl,kl={name:"ProjectView",components:{ProjectPage:fl}};const yl=(0,c.Z)(kl,[["render",qa]]);var wl=yl;function _l(e,t,s,r,i,o){const n=(0,a.up)("SignupPage");return(0,a.wg)(),(0,a.j4)(n)}const Tl=e=>((0,a.dD)("data-v-3dd5de38"),e=e(),(0,a.Cn)(),e),jl={class:"container"},Dl={class:"hey"},Pl=Tl((()=>(0,a._)("div",{class:"header"},[(0,a._)("h3",null,"Create a developer account")],-1))),Ml={class:"row"},Cl={class:"col-md-12"},Nl={key:0,class:"d-flex flex-column"},Il={class:"form-group mb-12"},Sl=Tl((()=>(0,a._)("label",{for:"username"},"Username",-1))),Ul={class:"form-group mb-12"},Al=Tl((()=>(0,a._)("label",{for:"firstName"},"First Name",-1))),xl={class:"form-group mb-12"},zl=Tl((()=>(0,a._)("label",{for:"lastName"},"Last Name",-1))),Ol={class:"form-group mb-12"},El=Tl((()=>(0,a._)("label",{for:"email"},"Email",-1))),Rl={class:"form-group mb-12"},Ll=Tl((()=>(0,a._)("label",{for:"password"},"Password",-1))),Vl={class:"form-group mb-12"},ql=["disabled"],Hl={class:"spinner-border spinner-border-sm"};function Fl(e,t,s,i,o,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("Field"),d=(0,a.up)("ErrorMessage"),p=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",jl,[(0,a._)("div",Dl,[Pl,(0,a._)("div",Ml,[(0,a._)("div",Cl,[(0,a.Wm)(p,{onSubmit:n.handleRegister,"validation-schema":o.schema},{default:(0,a.w5)((()=>[o.successful?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Nl,[(0,a._)("div",Il,[Sl,(0,a.Wm)(c,{name:"username",type:"text",class:"form-control"}),(0,a.Wm)(d,{name:"username",class:"error-feedback"})]),(0,a._)("div",Ul,[Al,(0,a.Wm)(c,{name:"firstName",type:"firstName",class:"form-control"}),(0,a.Wm)(d,{name:"firstName",class:"error-feedback"})]),(0,a._)("div",xl,[zl,(0,a.Wm)(c,{name:"lastName",type:"lastName",class:"form-control"}),(0,a.Wm)(d,{name:"lastName",class:"error-feedback"})]),(0,a._)("div",Ol,[El,(0,a.Wm)(c,{name:"email",type:"email",class:"form-control"}),(0,a.Wm)(d,{name:"email",class:"error-feedback"})]),(0,a._)("div",Rl,[Ll,(0,a.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,a.Wm)(d,{name:"password",class:"error-feedback"})]),(0,a._)("div",Vl,[(0,a._)("button",{class:"btn btn-primary",disabled:o.loading},[(0,a.wy)((0,a._)("span",Hl,null,512),[[r.F8,o.loading]]),(0,a.Uk)(" Sign Up ")],8,ql)])]))])),_:1},8,["onSubmit","validation-schema"]),o.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,h.C_)(["alert",o.successful?"alert-success":"alert-danger"])},(0,h.zw)(o.message),3)):(0,a.kq)("",!0)])])])])],64)}var $l={name:"SignupPage",components:{NavBar:ge,Form:la.l0,Field:la.gN,ErrorMessage:la.Bc},data(){const e=ca.Ry().shape({username:ca.Z_().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),firstName:ca.Z_().required("First name is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),lastName:ca.Z_().required("Last name is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),email:ca.Z_().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),password:ca.Z_().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 characters!")});return{successful:!1,loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/dashboard")},methods:{handleRegister(e){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then((e=>{this.message=e.message,this.successful=!0,this.loading=!1}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.successful=!1,this.loading=!1}))}}};const Gl=(0,c.Z)($l,[["render",Fl],["__scopeId","data-v-3dd5de38"]]);var Wl=Gl,Yl={name:"SignupView",components:{SignupPage:Wl}};const Bl=(0,c.Z)(Yl,[["render",_l]]);var Kl=Bl;const Zl=[{path:"/administration",name:"AdminView",component:Ce},{path:"/tickets",name:"TicketView",component:nr},{path:"/dashboard",name:"DashboardView",component:Lr},{path:"/login",name:"LoginView",component:ga},{path:"/myAccount",name:"MyAccountView",component:Va},{path:"/projects",name:"ProjectView",component:wl},{path:"/signup",name:"SignupView",component:Kl}],Jl=(0,m.p7)({history:(0,m.r5)(),routes:Zl});var Ql=Jl,Xl=(s(9773),s(4981)),ec=(0,Xl.Rd)();async function tc(){const e=await s.e(461).then(s.t.bind(s,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var sc=s(65);class rc{getLocalRefreshToken(){const e=JSON.parse(localStorage.getItem("user"));return e?.refreshToken}getLocalAccessToken(){const e=JSON.parse(localStorage.getItem("user"));return e?.accessToken}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return JSON.parse(localStorage.getItem("user"))}setUser(e){localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var ac=new rc;class ic{login(e){return ye.post("/auth/signin",{username:e.username,password:e.password}).then((e=>(e.data.accessToken&&ac.setUser(e.data),e.data)))}logout(){ye.post("/auth/signout",{}).then((e=>(ac.removeUser(),e.data)))}register(e){return ye.post("/auth/signup",{username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,role:["Developer"]})}}var oc=new ic;const nc=JSON.parse(localStorage.getItem("user")),lc=nc?{status:{loggedIn:!0},user:nc}:{status:{loggedIn:!1},user:null},cc={namespaced:!0,state:lc,actions:{login({commit:e},t){return oc.login(t).then((t=>(e("loginSuccess",t),Promise.resolve(t))),(t=>(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){oc.logout(),e("logout")},register({commit:e},t){return oc.register(t).then((t=>(e("registerSuccess"),Promise.resolve(t.data))),(t=>(e("registerFailure"),Promise.reject(t))))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}},dc=(0,sc.MT)({modules:{auth:cc}});var pc=dc,mc=s(3494),uc=s(7749),hc=s(8539);mc.vI.add(hc.J9Y,hc.ILF,hc.FKd,hc.$Wj,hc.jLD);const gc=e=>{ye.interceptors.request.use((e=>{const t=ac.getLocalAccessToken();return t&&(e.headers["Authorization"]="Bearer "+t),e}),(e=>Promise.reject(e))),ye.interceptors.response.use((e=>e),(async t=>{const s=t.config;if("/auth/signin"!==s.url&&t.response&&401===t.response.status&&!s._retry){s._retry=!0;try{const t=await ye.post("/auth/refreshtoken",{refreshToken:ac.getLocalRefreshToken()}),{accessToken:r}=t.data;return e.dispatch("auth/refreshToken",r),ac.updateLocalAccessToken(r),ye(s)}catch(r){return Promise.reject(r)}}return Promise.reject(t)}))};var vc=gc;tc(),vc(pc),(0,r.ri)(p).use(Ql).use(ec).use(pc).component("font-awesome-icon",uc.GN).mount("#app")},4243:function(e,t,s){"use strict";e.exports=s.p+"img/bug.2646fc57.svg"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,i){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);s.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var n=2&a&&r;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){o[e]=function(){return r[e]}}));return o["default"]=function(){return r},s.d(i,o),i}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/webfontloader.c896defc.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="bugtracker-frontend:";s.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var n,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+i){n=p;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+i),n.src=r),e[r]=[a];var m=function(t,s){n.onerror=n.onload=null,clearTimeout(u);var a=e[r];if(delete e[r],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((function(e){return e(s)})),t)return t(s)},u=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/personal-bugtracker/"}(),function(){var e={143:0};s.f.j=function(t,r){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(s,r){a=e[t]=[s,r]}));r.push(a[2]=i);var o=s.p+s.u(t),n=new Error,l=function(r){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",n.name="ChunkLoadError",n.type=i,n.request=o,a[1](n)}};s.l(o,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunkbugtracker_frontend"]=self["webpackChunkbugtracker_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(625)}));r=s.O(r)})();
//# sourceMappingURL=app.9e1e58e0.js.map