(function(){var e={6700:function(e,t,s){var r={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-ps":3639,"./ar-ps.js":3639,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":1400,"./gu.js":1400,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku-kmr":257,"./ku-kmr.js":257,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(e){var t=o(e);return s(t)}function o(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6700},3173:function(e,t,s){"use strict";var r=s(9242),a=s(3396);function o(e,t,s,r,o,i){const n=(0,a.up)("router-view"),l=(0,a.up)("v-main"),c=(0,a.up)("v-app");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n)])),_:1})])),_:1})}s(560);const i={on(e,t){document.addEventListener(e,(e=>t(e.detail)))},dispatch(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove(e,t){document.removeEventListener(e,t)}};var n=i,l={name:"App",data:()=>({}),methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}},mounted(){n.on("logout",(()=>{this.logOut()}))},beforeUnmount(){n.remove("logout")}},c=s(89);const d=(0,c.Z)(l,[["render",o]]);var p=d,m=s(2483);function u(e,t,s,r,o,i){const n=(0,a.up)("AdminPage");return(0,a.wg)(),(0,a.j4)(n)}var h=s(7139);const g=e=>((0,a.dD)("data-v-5d6adf50"),e=e(),(0,a.Cn)(),e),v={class:"container"},b=g((()=>(0,a._)("h1",null,"ADMINISTRATION",-1))),f={class:"theContent"},k={class:"tables"},y={class:"row"},w={class:"col"},_={class:"table-responsive"},T=g((()=>(0,a._)("caption",null," Organization ",-1))),j=g((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Username"),(0,a._)("th",{scope:"col"},"First Name"),(0,a._)("th",{scope:"col"},"Last Name"),(0,a._)("th",{scope:"col"},"Email")])],-1))),D={class:"outer-container"},P=g((()=>(0,a._)("div",{class:"text-container"},"Edit user information",-1))),M={class:"form-container"},C={class:"row g-3"},N={key:0},I={key:1},S={key:2},U={key:3},A={class:"col-md-6"},x=g((()=>(0,a._)("label",{for:"selectedFirstName",class:"form-label"},"FIRST NAME",-1))),z={class:"col-md-6"},O=g((()=>(0,a._)("label",{for:"selectedLastName",class:"form-label"},"LAST NAME",-1))),E={class:"col-md-6"},R=g((()=>(0,a._)("label",{for:"selectedUsername",class:"form-label"},"USERNAME",-1))),L={class:"col-md-6"},V=g((()=>(0,a._)("label",{for:"selectedEmail",class:"form-label"},"EMAIL",-1))),q={class:"col-md-6"},H=g((()=>(0,a._)("label",{for:"role",class:"form-label"},"ROLE",-1))),G=g((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),F=g((()=>(0,a._)("option",{value:"Developer"},"Developer",-1))),$=g((()=>(0,a._)("option",{value:"ProjectManager"},"Project Manager",-1))),W=g((()=>(0,a._)("option",{value:"Admin"},"Administrator",-1))),Y=[G,F,$,W],B={class:"col-md-10"},K={class:"col-md-2"};function Z(e,t,s,o,i,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",v,[b,(0,a._)("div",f,[(0,a._)("div",k,[(0,a._)("div",y,[(0,a._)("div",w,[(0,a._)("div",_,[(0,a.Wm)(c,{columns:i.columns,data:i.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[0]||(t[0]=e=>n.clickRow())},{default:(0,a.w5)((()=>[T,j])),_:1},8,["columns","data"])])])])]),(0,a._)("div",D,[P,(0,a._)("div",M,[(0,a._)("form",C,[""!=i.errorModifyRole?((0,a.wg)(),(0,a.iD)("span",N,(0,h.zw)(i.errorModifyRole),1)):(0,a.kq)("",!0),""!=i.errorModifyUser?((0,a.wg)(),(0,a.iD)("span",I,(0,h.zw)(i.errorModifyUser),1)):(0,a.kq)("",!0),""!=i.errorDeleteUser?((0,a.wg)(),(0,a.iD)("span",S,(0,h.zw)(i.errorDeleteUser),1)):(0,a.kq)("",!0),""!=i.errorSelectUser?((0,a.wg)(),(0,a.iD)("span",U,(0,h.zw)(i.errorSelectUser),1)):(0,a.kq)("",!0),(0,a._)("div",A,[x,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedFirstName=e),id:"selectedFirstName"},null,512),[[r.nr,i.selectedFirstName]])]),(0,a._)("div",z,[O,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedLastName=e),id:"selectedLastName"},null,512),[[r.nr,i.selectedLastName]])]),(0,a._)("div",E,[R,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.selectedUsername=e),id:"selectedUsername"},null,512),[[r.nr,i.selectedUsername]])]),(0,a._)("div",L,[V,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>i.selectedEmail=e),id:"selectedEmail"},null,512),[[r.nr,i.selectedEmail]])]),(0,a._)("div",q,[H,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>i.selectedRole=e),id:"role",class:"form-select"},Y,512),[[r.bM,i.selectedRole]])]),(0,a._)("div",B,[(0,a._)("button",{type:"button",onClick:t[6]||(t[6]=e=>n.modifyUser(i.oldUsername,i.selectedUsername,i.selectedEmail,"",i.selectedFirstName,i.selectedLastName,i.selectedRole)),class:"btn btn-primary"}," Submit ")]),(0,a._)("div",K,[(0,a._)("button",{type:"button",onClick:t[7]||(t[7]=e=>n.deleteUser(i.oldUsername,i.selectedRole)),class:"btn btn-danger"}," Remove user ")])])])])])])],64)}const J=e=>((0,a.dD)("data-v-02df63de"),e=e(),(0,a.Cn)(),e),Q={class:"navbar fixed-top navbar-expand-lg navbar-light",style:{"background-color":"#e3f2fd"}},X={class:"container-fluid"},ee=["src"],te=["src"],se=J((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),re={class:"collapse navbar-collapse",id:"navbarSupportedContent"},ae={key:0,class:"navbar-nav mr-auto"},oe={key:0,class:"nav-item"},ie={key:1,class:"navbar-nav ml-auto"},ne={class:"nav-item"},le={class:"nav-item"},ce={key:2,class:"navbar-nav ml-auto"},de={class:"nav-item"},pe={class:"nav-item"};function me(e,t,o,i,n,l){const c=(0,a.up)("RouterLink"),d=(0,a.up)("router-link"),p=(0,a.up)("font-awesome-icon");return(0,a.wg)(),(0,a.iD)("nav",Q,[(0,a._)("div",X,[l.currentUser?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"navbar-brand",to:"/dashboard"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s(4243),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},null,8,ee),(0,a.Uk)(" Bug Tracker ")])),_:1})):(0,a.kq)("",!0),l.currentUser?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(c,{key:1,class:"navbar-brand",to:"/signup"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:s(4243),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},null,8,te),(0,a.Uk)(" Bug Tracker ")])),_:1})),se,(0,a._)("div",re,[l.currentUser?((0,a.wg)(),(0,a.iD)("ul",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.links,(e=>((0,a.wg)(),(0,a.iD)("li",{class:"nav-item",key:e.id},[(0,a.Wm)(d,{class:"nav-link",to:e.link},{default:(0,a.w5)((()=>[(0,a.Uk)((0,h.zw)(e.text),1)])),_:2},1032,["to"])])))),128)),l.showAdminItem?((0,a.wg)(),(0,a.iD)("li",oe,[(0,a.Wm)(d,{class:"nav-link",to:"/administration"},{default:(0,a.w5)((()=>[(0,a.Uk)("Administration")])),_:1})])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),l.currentUser?((0,a.wg)(),(0,a.iD)("ul",ie,[(0,a._)("li",ne,[(0,a.Wm)(d,{class:"nav-link",to:"/myAccount"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"user"}),(0,a.Uk)(" "+(0,h.zw)(l.currentUser.username),1)])),_:1})]),(0,a._)("li",le,[(0,a._)("a",{class:"nav-link",href:"",onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>l.logOut&&l.logOut(...e)),["prevent"]))},[(0,a.Wm)(p,{icon:"sign-out-alt"}),(0,a.Uk)("LogOut ")])])])):(0,a.kq)("",!0),l.currentUser?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("ul",ce,[(0,a._)("li",de,[(0,a.Wm)(d,{to:"/signup",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"user-plus"}),(0,a.Uk)("Sign Up ")])),_:1})]),(0,a._)("li",pe,[(0,a.Wm)(d,{to:"/login",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{icon:"sign-in-alt"}),(0,a.Uk)("Login ")])),_:1})])]))])])])}var ue={name:"NavBar",data(){return{links:[{id:1,text:"Dashboard",link:"/dashboard"},{id:2,text:"Projects",link:"/projects"},{id:3,text:"Tickets",link:"/tickets"}]}},computed:{currentUser(){return this.$store.state.auth.user},showAdminItem(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")}},methods:{logOut(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};const he=(0,c.Z)(ue,[["render",me],["__scopeId","data-v-02df63de"]]);var ge=he,ve=s(5929),be=s(649),fe=(s(9299),s(7407),s(2686),s(1076));const ke=fe.Z.create({baseURL:"https://personal-bugtracker-80b6079a0b29.herokuapp.com/api",headers:{"Content-Type":"application/json"}});var ye=ke;class we{getAllDevelopers(){return ye.get("/test/developers/")}getUserWithUsername(e){return ye.get("/test/user/".concat(e))}getAllProjectManagers(){return ye.get("/test/projectmanagers/")}getAllUsers(){return ye.get("/test/users/")}getRoleForUser(e){return ye.get("/test/user/role/".concat(e))}modifyUser(e,t,s,r,a,o){return ye.post("/test/user/modify/".concat(e),null,{params:{newUsername:t,newEmail:s,newPassword:r,newFirstName:a,newLastName:o}})}modifyRoleOfUser(e,t){return ye.post("/test/user/modifyRole/".concat(e),null,{params:{userRole:t}})}deleteDeveloper(e){return ye.post("/test/developer/delete/".concat(e),null,{})}deleteAdmin(e){return ye.post("/test/admin/delete/".concat(e),null,{})}deleteProjectManager(e){return ye.post("/test/projectmanager/delete/".concat(e),null,{})}}var _e=new we;ve.Z.use(be.Z);var Te={name:"AdminPage",components:{NavBar:ge,DataTable:ve.Z},data(){return{data:[],roles:[],errorModifyUser:"",errorModifyRole:"",errorGetUsers:"",errorGetRole:"",errorDeleteUser:"",errorSelectUser:"",columns:[{data:"username"},{data:"firstName"},{data:"lastName"},{data:"email"}],r:"",oldUsername:"",selectedUsername:"",selectedFirstName:"",selectedLastName:"",selectedEmail:"",selectedRole:"null"}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdmin(){return!(!this.currentUser||!this.currentUser.roles)&&this.currentUser.roles.includes("ROLE_ADMIN")},loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn?this.currentUserIsAdmin||this.$router.push("/dashboard"):this.$router.push("/login")},mounted:function(){this.currentUserIsAdmin&&_e.getAllUsers().then((e=>{this.data=e.data}),(e=>{this.errorGetUsers=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},methods:{clickRow(){this.resetErrorMessages(),this.errorModifyUser="",this.errorModifyRole="",this.errorDeleteUser="";const e=this.$refs.table.dt;var t=e.row(".selected").data();this.oldUsername=t.username,this.selectedUsername=t.username,this.selectedFirstName=t.firstName,this.selectedLastName=t.lastName,this.selectedEmail=t.email,_e.getRoleForUser(this.selectedUsername).then((e=>{this.selectedRole=e.data,console.log(e.data)}),(e=>{this.errorGetRole=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},resetErrorMessages(){this.errorModifyUser="",this.errorModifyRole="",this.errorGetUsers="",this.errorGetRole="",this.errorDeleteUser="",this.errorSelectUser=""},modifyUser:function(e,t,s,r,a,o,i){this.resetErrorMessages();const l=this.$refs.table.dt;var c=l.row(".selected").data();if(null==c)this.errorSelectUser="No user selected. ";else{var d=this.data.map((e=>e.username)).indexOf(e);_e.modifyUser(e,t,s,r,a,o).then((e=>{this.errorModifyUser="",_e.modifyRoleOfUser(this.selectedUsername,i).then((e=>{this.oldUsername=e.data.username,this.data[d].role=i,this.selectedRole=i,this.errorModifyRole=""}),(e=>{this.errorModifyRole=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.data[d].username=e.data.username,this.selectedUsername=e.data.username,this.data[d].email=e.data.email,this.selectedEmail=e.data.email,this.data[d].firstName=e.data.firstName,this.selectedFirstName=e.data.firstName,this.data[d].lastName=e.data.lastName,this.selectedLastName=e.data.lastName}),(e=>{this.errorModifyUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},deleteUser:function(e,t){this.resetErrorMessages();const s=this.$refs.table.dt;var r=s.row(".selected").data();if(null==r)this.errorSelectUser="No user selected. ";else{var a=this.data.map((e=>e.username)).indexOf(e);"Developer"==t?_e.deleteDeveloper(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):"Admin"==t?_e.deleteAdmin(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):"ProjectManager"==t&&_e.deleteProjectManager(e).then((e=>{this.r=e.data,this.errorDeleteUser="",this.oldUsername="",this.selectedUsername="",this.selectedFirstName="",this.selectedLastName="",this.selectedEmail="",this.selectedRole="",-1!==a&&this.data.splice(a,1)}),(e=>{this.errorDeleteUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const je=(0,c.Z)(Te,[["render",Z],["__scopeId","data-v-5d6adf50"]]);var De=je,Pe={name:"AdminView",components:{AdminPage:De}};const Me=(0,c.Z)(Pe,[["render",u]]);var Ce=Me;function Ne(e,t,s,r,o,i){const n=(0,a.up)("TicketPage");return(0,a.wg)(),(0,a.j4)(n)}const Ie=e=>((0,a.dD)("data-v-77a18ad0"),e=e(),(0,a.Cn)(),e),Se={class:"container"},Ue=Ie((()=>(0,a._)("h1",null,"TICKETS",-1))),Ae={class:"modal",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},xe={class:"modal-dialog"},ze={class:"modal-content"},Oe=Ie((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ee={class:"modal-body"},Re={class:"row g-3"},Le={key:0},Ve={key:1},qe={class:"col-md-12"},He=Ie((()=>(0,a._)("label",{for:"title1",class:"form-label"},"Title",-1))),Ge={class:"col-md-12"},Fe=Ie((()=>(0,a._)("label",{for:"project1",class:"form-label"},"Project",-1))),$e=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),We=["value"],Ye={class:"col-md-12"},Be=Ie((()=>(0,a._)("label",{for:"description1",class:"form-label"},"Description",-1))),Ke={class:"col-12"},Ze=Ie((()=>(0,a._)("label",{for:"devs1",class:"form-label"},"Assigned Developers",-1))),Je=["value"],Qe={class:"col-md-4"},Xe=Ie((()=>(0,a._)("label",{for:"priority1",class:"form-label"},"Priority",-1))),et=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),tt={class:"col-md-4"},st=Ie((()=>(0,a._)("label",{for:"type1",class:"form-label"},"Type",-1))),rt=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),at={class:"col-md-4"},ot=Ie((()=>(0,a._)("label",{for:"status1",class:"form-label"},"Status",-1))),it=Ie((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),nt={class:"modal-footer"},lt={ref:"CloseCreate",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},ct={class:"modal",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},dt={class:"modal-dialog"},pt={class:"modal-content"},mt=Ie((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ut={class:"modal-body"},ht={class:"row g-3"},gt={key:0},vt={key:1},bt={key:2},ft={class:"col-md-12"},kt=Ie((()=>(0,a._)("label",{for:"title",class:"form-label"},"Title",-1))),yt={class:"col-md-12"},wt=Ie((()=>(0,a._)("label",{for:"project",class:"form-label"},"Project",-1))),_t=["value"],Tt={class:"col-md-12"},jt=Ie((()=>(0,a._)("label",{for:"description",class:"form-label"},"Description",-1))),Dt={class:"col-12"},Pt=Ie((()=>(0,a._)("label",{for:"devs",class:"form-label"},"Assigned Developers",-1))),Mt=["value"],Ct={class:"col-md-4"},Nt=Ie((()=>(0,a._)("label",{for:"priority",class:"form-label"},"Priority",-1))),It={class:"col-md-4"},St=Ie((()=>(0,a._)("label",{for:"type",class:"form-label"},"Type",-1))),Ut={class:"col-md-4"},At=Ie((()=>(0,a._)("label",{for:"status",class:"form-label"},"Status",-1))),xt={class:"modal-footer"},zt={ref:"CloseModify",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},Ot={class:"theContent"},Et={class:"tables"},Rt={class:"row"},Lt={class:"col"},Vt={class:"table-responsive"},qt={key:0},Ht={key:0},Gt={key:1},Ft=Ie((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Author"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status"),(0,a._)("th",{scope:"col"},"Creation date"),(0,a._)("th",{scope:"col"},"Project"),(0,a._)("th",{scope:"col"})])],-1))),$t={class:"row g-3"},Wt=Ie((()=>(0,a._)("div",{class:"col-md-2"},[(0,a._)("button",{type:"button",class:"btn btn-primary"},[(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal2"},"New ticket")])],-1))),Yt={class:"col-md-8"},Bt={type:"button",class:"btn btn-primary"},Kt={class:"col-md-2"},Zt={type:"button",class:"btn btn-danger"},Jt={class:"outer-container"},Qt=Ie((()=>(0,a._)("div",{class:"text-container"},"Selected ticket info",-1))),Xt={class:"row g-3"},es={class:"col"},ts={class:"ticket-info"},ss={class:"row"},rs={class:"col-6"},as=Ie((()=>(0,a._)("div",{class:"text-container3"},"TITLE",-1))),os={class:"text-container4"},is={class:"col-6"},ns=Ie((()=>(0,a._)("div",{class:"text-container3"},"PROJECT",-1))),ls={class:"text-container4"},cs={class:"row"},ds={class:"col"},ps=Ie((()=>(0,a._)("div",{class:"text-container3"},"DESCRIPTION",-1))),ms={class:"text-container4"},us={class:"col"},hs=Ie((()=>(0,a._)("div",{class:"text-container3"},"AUTHOR",-1))),gs={class:"text-container4"},vs={class:"row"},bs={class:"col"},fs=Ie((()=>(0,a._)("div",{class:"text-container3"},"TYPE",-1))),ks={class:"text-container4"},ys={class:"col"},ws=Ie((()=>(0,a._)("div",{class:"text-container3"},"PRIORITY",-1))),_s={class:"text-container4"},Ts={class:"col"},js=Ie((()=>(0,a._)("div",{class:"text-container3"},"STATUS",-1))),Ds={class:"text-container4"},Ps={class:"row"},Ms={class:"col"},Cs=Ie((()=>(0,a._)("div",{class:"text-container3"},"ASSIGNED DEVS",-1))),Ns={class:"ticket-hist"},Is={class:"row"},Ss={class:"col"},Us={class:"table-responsive"},As=Ie((()=>(0,a._)("caption",null," Ticket history ",-1))),xs=Ie((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Property changed"),(0,a._)("th",{scope:"col"},"Old value"),(0,a._)("th",{scope:"col"},"New value"),(0,a._)("th",{scope:"col"},"Date of change")])],-1))),zs={class:"col"},Os={class:"row d-flex justify-content-center"},Es={class:"card shadow-0 border",style:{"background-color":"#f0f2f5"}},Rs={class:"card-body p-4"},Ls={"data-mdb-input-init":"",class:"form-outline mb-4"},Vs={key:0},qs={type:"button",class:"btn btn-primary"},Hs={class:"card mb-4"},Gs={class:"card-body"},Fs={class:"d-flex justify-content-between"},$s={class:"d-flex flex-row align-items-center"},Ws={class:"small mb-0 ms-2"},Ys={class:"d-flex flex-row align-items-center"},Bs={class:"small text-muted mb-0"},Ks={key:1,class:"badgeInactive"},Zs={key:3,class:"badgeInactive"};function Js(e,t,s,o,i,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Se,[Ue,(0,a._)("div",Ae,[(0,a._)("div",xe,[(0,a._)("div",ze,[Oe,(0,a._)("div",Ee,[(0,a._)("form",Re,[""!=i.errorCreateTicket?((0,a.wg)(),(0,a.iD)("span",Le,(0,h.zw)(i.errorCreateTicket),1)):(0,a.kq)("",!0),""!=i.errorAssignDevsToTicket?((0,a.wg)(),(0,a.iD)("span",Ve,(0,h.zw)(i.errorAssignDevsToTicket),1)):(0,a.kq)("",!0),(0,a._)("div",qe,[He,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.title=e),id:"title1"},null,512),[[r.nr,i.title]])]),(0,a._)("div",Ge,[Fe,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[1]||(t[1]=e=>i.ticketProject=e),onChange:t[2]||(t[2]=e=>n.setDevsCreate(i.ticketProject)),class:"form-select"},[$e,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projects,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,We)))),128))],544),[[r.bM,i.ticketProject]])]),(0,a._)("div",Ye,[Be,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.description=e),id:"description1"},null,512),[[r.nr,i.description]])]),(0,a._)("div",Ke,[Ze,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.ticketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projectDevsCreate,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Je)))),128))],512),[[r.bM,i.ticketDevs]])]),(0,a._)("div",Qe,[Xe,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[5]||(t[5]=e=>i.priority=e),class:"form-select"},[et,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.priority]])]),(0,a._)("div",tt,[st,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[6]||(t[6]=e=>i.type=e),class:"form-select"},[rt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.type]])]),(0,a._)("div",at,[ot,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[7]||(t[7]=e=>i.status=e),class:"form-select"},[it,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.status]])])])]),(0,a._)("div",nt,[(0,a._)("button",lt," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=e=>n.createTicket(i.title,i.description,i.priority,i.status,i.type,i.ticketProject,i.ticketDevs))}," Create new ticket ")])])])]),(0,a._)("div",ct,[(0,a._)("div",dt,[(0,a._)("div",pt,[mt,(0,a._)("div",ut,[(0,a._)("form",ht,[""!=i.errorModifyTicket?((0,a.wg)(),(0,a.iD)("span",gt,(0,h.zw)(i.errorModifyTicket),1)):(0,a.kq)("",!0),""!=i.errorAssignDevsToTicketInModify?((0,a.wg)(),(0,a.iD)("span",vt,(0,h.zw)(i.errorAssignDevsToTicketInModify),1)):(0,a.kq)("",!0),""!=i.errorAssignProjectToTicketInModify?((0,a.wg)(),(0,a.iD)("span",bt,(0,h.zw)(i.errorAssignProjectToTicketInModify),1)):(0,a.kq)("",!0),(0,a._)("div",ft,[kt,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>i.newTitle=e),id:"title1"},null,512),[[r.nr,i.newTitle]])]),(0,a._)("div",yt,[wt,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[10]||(t[10]=e=>i.newTicketProject=e),onChange:t[11]||(t[11]=e=>n.setDevs(i.newTicketProject)),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projects,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,_t)))),128))],544),[[r.bM,i.newTicketProject]])]),(0,a._)("div",Tt,[jt,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>i.newDescription=e),id:"description1"},null,512),[[r.nr,i.newDescription]])]),(0,a._)("div",Dt,[Pt,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=e=>i.newTicketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projectDevsModify,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Mt)))),128))],512),[[r.bM,i.newTicketDevs]])]),(0,a._)("div",Ct,[Nt,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[14]||(t[14]=e=>i.newPriority=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newPriority]])]),(0,a._)("div",It,[St,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[15]||(t[15]=e=>i.newType=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newType]])]),(0,a._)("div",Ut,[At,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[16]||(t[16]=e=>i.newStatus=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newStatus]])])])]),(0,a._)("div",xt,[(0,a._)("button",zt," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[17]||(t[17]=e=>n.modifyTicket(i.selectedTicketId,i.newTitle,i.newDescription,i.newPriority,i.newStatus,i.newType,i.newTicketProject,i.newTicketDevs))}," Save changes ")])])])]),(0,a._)("div",Ot,[(0,a._)("div",Et,[(0,a._)("div",Rt,[(0,a._)("div",Lt,[(0,a._)("div",Vt,[""!=i.errorSelectTicket?((0,a.wg)(),(0,a.iD)("span",qt,(0,h.zw)(i.errorSelectTicket),1)):(0,a.kq)("",!0),(0,a.Wm)(c,{columns:i.columns,data:i.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[18]||(t[18]=e=>n.clickRow())},{default:(0,a.w5)((()=>[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",Ht," All tickets ")):((0,a.wg)(),(0,a.iD)("caption",Gt," Assigned tickets ")),Ft])),_:1},8,["columns","data"])]),(0,a._)("div",$t,[Wt,(0,a._)("div",Yt,[(0,a._)("button",Bt,[(0,a._)("a",{href:"#/",onClick:t[19]||(t[19]=e=>n.checkIfTicketSelected()),"data-bs-target":"#exampleModal1"},"Edit ticket")])]),(0,a._)("div",Kt,[(0,a._)("button",Zt,[(0,a._)("a",{href:"#/",onClick:t[20]||(t[20]=e=>n.deleteTicket(i.selectedTicketId))},"Delete ticket")])])])])])]),(0,a._)("div",Jt,[Qt,(0,a._)("div",Xt,[(0,a._)("div",es,[(0,a._)("div",ts,[(0,a._)("div",ss,[(0,a._)("div",rs,[as,(0,a._)("div",os,(0,h.zw)(i.selectedTitle),1)]),(0,a._)("div",is,[ns,(0,a._)("div",ls,(0,h.zw)(i.selectedProject.name),1)])]),(0,a._)("div",cs,[(0,a._)("div",ds,[ps,(0,a._)("div",ms,(0,h.zw)(i.selectedDescription),1)]),(0,a._)("div",us,[hs,(0,a._)("div",gs,(0,h.zw)(i.selectedTicketSubmitter.firstName)+" "+(0,h.zw)(i.selectedTicketSubmitter.lastName),1)])]),(0,a._)("div",vs,[(0,a._)("div",bs,[fs,(0,a._)("div",ks,(0,h.zw)(i.selectedType),1)]),(0,a._)("div",ys,[ws,(0,a._)("div",_s,(0,h.zw)(i.selectedPriority),1)]),(0,a._)("div",Ts,[js,(0,a._)("div",Ds,(0,h.zw)(i.selectedStatus),1)])]),(0,a._)("div",Ps,[(0,a._)("div",Ms,[Cs,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectedDevs,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"text-container4",key:e.id},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)))),128))])])]),(0,a._)("div",Ns,[(0,a._)("div",Is,[(0,a._)("div",Ss,[(0,a._)("div",Us,[(0,a.Wm)(c,{columns:i.historyColumns,data:i.historyData,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!1},ref:"the-tables"},{default:(0,a.w5)((()=>[As,xs])),_:1},8,["columns","data"])])])])])]),(0,a._)("div",zs,[(0,a._)("div",Os,[(0,a._)("div",null,[(0,a._)("div",Es,[(0,a._)("div",Rs,[(0,a._)("div",Ls,[""!=i.errorCreateComment?((0,a.wg)(),(0,a.iD)("span",Vs,(0,h.zw)(i.errorCreateComment),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text",id:"addANote","onUpdate:modelValue":t[21]||(t[21]=e=>i.commentMessage=e),class:"form-control",placeholder:"Type comment..."},null,512),[[r.nr,i.commentMessage]]),(0,a._)("button",qs,[(0,a._)("a",{href:"#/",onClick:t[22]||(t[22]=e=>n.addComment(i.selectedTicketId,i.commentMessage))},"Publish")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentsOfCurrPage,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"comments",key:e.id},[(0,a._)("div",Hs,[(0,a._)("div",Gs,[(0,a._)("p",null,(0,h.zw)(e.message),1),(0,a._)("div",Fs,[(0,a._)("div",$s,[(0,a._)("p",Ws,(0,h.zw)(e.commenter.firstName)+" "+(0,h.zw)(e.commenter.lastName),1)]),(0,a._)("div",Ys,[(0,a._)("p",Bs,(0,h.zw)(e.creationDate.substring(0,19)),1)])])])])])))),128)),(0,a._)("p",null,[i.prevActive?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"badge",onClick:t[23]||(t[23]=e=>n.gotoPrev())},"Prev")):((0,a.wg)(),(0,a.iD)("a",Ks,"Prev")),(0,a.Uk)(" - "+(0,h.zw)(i.pageIndex+1)+" - ",1),i.nextActive?((0,a.wg)(),(0,a.iD)("a",{key:2,class:"badge",onClick:t[24]||(t[24]=e=>n.gotoNext())},"Next")):((0,a.wg)(),(0,a.iD)("a",Zs,"Next"))])])])])])])])])])])],64)}var Qs=s(2166);class Xs{getAllProjects(){return ye.get("/test/projects")}getAssignedProjectForDev(e){return ye.get("/test/developer/projects/".concat(e))}getProjectWithId(e){return ye.get("/test/project/".concat(e))}createProject(e,t,s){return ye.post("/test/project/create/",null,{params:{name:e,description:t,projectManagerUsername:s}})}assignDevsToProject(e,t){return ye.post("/test/project/setDevs/".concat(e),null,{params:{devUsernames:t}})}modifyProject(e,t,s){return ye.post("/test/project/modify/",null,{params:{projectId:e,name:t,description:s}})}assignPMToProject(e,t){return ye.post("/test/project/assignPm/".concat(t),null,{params:{projectId:e}})}deleteProject(e){return ye.post("/test/project/delete/".concat(e),null,{})}}var er=new Xs;class tr{getAllTickets(){return ye.get("/test/tickets/")}getAssignedTicketsForDev(e){return ye.get("/test/developer/tickets/".concat(e))}getTicketsForProjectWithId(e){return ye.get("/test/project/tickets/".concat(e))}createTicket(e,t,s,r,a,o,i){return ye.post("/test/ticket/create/",null,{params:{title:e,description:t,priority:s,status:r,type:a,projectId:o,submitterUsername:i}})}assignDevsToTicket(e,t){return ye.post("/test/ticket/assignDevs/".concat(e),null,{params:{devUsernames:t}})}modifyTicket(e,t,s,r,a,o){return ye.post("/test/ticket/modify/".concat(e),null,{params:{title:t,description:s,priority:r,status:a,type:o}})}assignProjectToTicket(e,t){return ye.post("/test/ticket/project/".concat(e),null,{params:{projectId:t}})}createCommentForTicket(e,t,s){return ye.post("/test/ticket/createComment/".concat(e),null,{params:{commenterUsername:t,message:s}})}deleteTicket(e){return ye.post("/test/ticket/delete/".concat(e),null,{})}}var sr=new tr;ve.Z.use(be.Z);var rr={name:"TicketPage",components:{NavBar:ge,DataTable:ve.Z},props:{ticketType:String},data(){return{historyData:[],data:[],projects:[],developers:[],commentMessage:"",errorCreateTicket:"",errorModifyTicket:"",errorDeleteTicket:"",errorCreateComment:"",errorSelectTicket:"",errorAssignDevsToTicket:"",errorAssignDevsToTicketInModify:"",errorAssignProjectToTicket:"",errorAssignProjectToTicketInModify:"",errorGetProjects:"",errorGetProject:"",errorGetTickets:"",errorGetDevelopers:"",selectedTicketSubmitter:"",selectedTitle:"",selectedProject:"",selectedDescription:"",selectedDevs:[],selectedTA:[],selectedComments:[],selectedPriority:"",selectedType:"",selectedStatus:"",selectedTicketId:"",historyColumns:[{data:"propertyChanged"},{data:"oldValueOfProperty"},{data:"newValueOfProperty"},{render:function(e,t,s){return s.dateOfChange.substring(0,10)}}],columns:[{data:"title"},{render:function(e,t,s){return s.submitter.firstName+" "+s.submitter.lastName}},{data:"priority"},{data:"type"},{data:"status"},{render:function(e,t,s){return s.creationDate.substring(0,19)}},{data:"project.name"}],ticketProject:"null",ticketDevs:"",projectDevs:[],title:"",description:"",priority:"null",status:"null",type:"null",newTicketProject:"",projectDevsModify:[],newTicketDevs:[],newTitle:"",newDescription:"",newPriority:"",newStatus:"",newType:"",priorityChoices:["None","Low","Medium","High"],typeChoices:["Bug","FeatureRequest","DocRequest","Other"],statusChoices:["New","Open","InProgress","Resolved","AddInfo"],projectDevsCreate:[],pageSize:3,pageIndex:0,prevActive:!1,nextActive:!1}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))},pages:function(){return this.selectedComments.length%this.pageSize==0?this.selectedComments.length/this.pageSize:Math.floor(this.selectedComments.length/this.pageSize)+1},commentsOfCurrPage:function(){return this.selectedComments.slice(this.pageSize*this.pageIndex,this.pageSize*(this.pageIndex+1))},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?(er.getAllProjects().then((e=>{this.projects=e.data}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.currentUserIsAdminOrPM?sr.getAllTickets().then((e=>{this.data=e.data,console.log(this.data)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):sr.getAssignedTicketsForDev(this.currentUser.username).then((e=>{this.data=e.data,console.log(this.data)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.$router.push("/login")},methods:{setDevs(e){er.getProjectWithId(e).then((e=>{this.r=e.data,this.projectDevsModify=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},setDevsCreate(e){er.getProjectWithId(e).then((e=>{this.r=e.data,console.log("projectt %o",e.data),this.projectDevsCreate=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},clickRow(){this.resetErrorMessages();const e=this.$refs.table.dt;var t=e.row(".selected").data();if(null!=t){for(var s of(this.selectedTicketSubmitter=t.submitter,this.selectedTicketId=t.id,this.selectedTitle=t.title,this.selectedProject=t.project,this.selectedDescription=t.description,this.selectedDevs=t.assignedDevelopers,this.selectedTA=t.ticketAttachments,this.selectedPriority=t.priority,this.selectedType=t.type,this.selectedStatus=t.status,this.selectedComments=t.comments,this.newTicketProject=t.project.id,er.getProjectWithId(this.newTicketProject).then((e=>{this.r=e.data,this.projectDevsModify=this.r.assignedDevelopers}),(e=>{this.errorGetProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),t.assignedDevelopers))this.newTicketDevs.push(s.username);if(this.newTitle=t.title,this.newDescription=t.description,this.newPriority=t.priority,this.newStatus=t.status,this.newType=t.type,this.historyData=[],null!=t.ticketHistories)for(var r of t.ticketHistories)this.historyData.push(r);this.pageIndex=0,this.prevActive=!1,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}},resetErrorMessages(){this.errorSelectTicket="",this.errorCreateTicket="",this.errorModifyTicket="",this.errorDeleteTicket="",this.errorCreateComment="",this.errorAssignDevsToTicket="",this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicket="",this.errorAssignProjectToTicketInModify="",this.errorGetProjects="",this.errorGetProject="",this.errorGetTickets="",this.errorGetDevelopers=""},createTicket:function(e,t,s,r,a,o,i){this.resetErrorMessages(),0!=i.length?(this.errorAssignDevsToTicket="",sr.createTicket(e,t,s,r,a,o,this.currentUser.username).then((e=>{this.r=e.data;var t=this.r.id;sr.assignDevsToTicket(t,i.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data.push(e.data),this.title="",this.description="",this.ticketProject="",this.ticketDevs=[],this.priority="",this.type="",this.status="",this.$refs.CloseCreate.click()}),(e=>{this.errorAssignDevsToTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},modifyTicket:function(e,t,s,r,a,o,i,l){this.resetErrorMessages();var c=this.data.map((e=>e.id)).indexOf(e);sr.modifyTicket(e,t,s,r,a,o).then((t=>{this.r=t.data,sr.assignDevsToTicket(e,l.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data[c].assignedDevelopers=e.data.assignedDevelopers,this.selectedDevs=e.data.assignedDevelopers}),(e=>{this.errorAssignDevsToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),sr.assignProjectToTicket(e,i).then((e=>{this.data[c].project=e.data.project,this.selectedProject=e.data.project}),(e=>{this.errorAssignProjectToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.data[c].title=this.r.title,this.selectedTitle=this.r.title,this.data[c].description=this.r.description,this.selectedDescription=this.r.description,this.data[c].priority=this.r.priority,this.selectedPriority=this.r.priority,this.data[c].status=this.r.status,this.selectedStatus=this.r.status,this.data[c].type=this.r.type,this.selectedType=this.r.type,this.data[c].ticketHistories=this.r.ticketHistories,this.historyData=this.r.ticketHistories,this.$refs.CloseModify.click()}),(e=>{this.errorModifyTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},gotoPrev:function(){this.pageIndex>0&&(this.pageIndex-=1,this.nextActive=!0,this.pageIndex>0?this.prevActive=!0:this.prevActive=!1)},gotoNext:function(){this.pageIndex<this.pages-1&&(this.pageIndex+=1,this.prevActive=!0,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1)},addComment:function(e,t){this.resetErrorMessages();const s=this.$refs.table.dt;var r=s.row(".selected").data();if(null==r)this.errorCreateComment="No ticket selected. ";else if(null==t||""==t)this.errorCreateComment="Comment cannot be empty. ";else{var a=this.data.map((e=>e.id)).indexOf(e);sr.createCommentForTicket(e,this.currentUser.username,t).then((e=>{this.r=e.data,this.data[a].comments=this.r.comments,this.selectedComments=this.r.comments,this.commentMessage="",this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}),(e=>{this.errorCreateComment=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},checkIfTicketSelected:function(){this.resetErrorMessages();const e=this.$refs.table.dt;var t=e.row(".selected").data();null==t?this.errorSelectTicket="No ticket selected. ":(this.modalInstance=new Qs.u_(document.getElementById("exampleModal1"),{target:"#my-modal"}),this.modalInstance.show())},deleteTicket:function(e){this.resetErrorMessages();const t=this.$refs.table.dt;var s=t.row(".selected").data();if(null==s)this.errorSelectTicket="No ticket selected. ";else{var r=this.data.map((e=>e.id)).indexOf(e);sr.deleteTicket(e).then((e=>{this.r=e.data,this.selectedTitle="",this.selectedProject="",this.selectedDescription="",this.selectedTicketSubmitter="",this.selectedType="",this.selectedPriority="",this.selectedStatus="",this.selectedDevs=[],this.historyData=[],this.selectedComments=[],-1!==r&&this.data.splice(r,1)}),(e=>{this.errorDeleteTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const ar=(0,c.Z)(rr,[["render",Js],["__scopeId","data-v-77a18ad0"]]);var or=ar,ir={name:"TicketView",components:{TicketPage:or}};const nr=(0,c.Z)(ir,[["render",Ne]]);var lr=nr;function cr(e,t,s,r,o,i){const n=(0,a.up)("DashboardPage");return(0,a.wg)(),(0,a.j4)(n)}const dr=e=>((0,a.dD)("data-v-4ec4e7f4"),e=e(),(0,a.Cn)(),e),pr={class:"container"},mr=dr((()=>(0,a._)("h1",null,"DASHBOARD",-1))),ur={class:"thecontent"},hr=(0,a.uE)('<div class="row" data-v-4ec4e7f4><div class="col" data-v-4ec4e7f4><p data-v-4ec4e7f4>Tickets by priority</p><div class="pie-container" data-v-4ec4e7f4><canvas id="planet-chart" data-v-4ec4e7f4></canvas></div></div><div class="col" data-v-4ec4e7f4><p data-v-4ec4e7f4>Tickets by type</p><div class="pie-container" data-v-4ec4e7f4><canvas id="planet-chart2" data-v-4ec4e7f4></canvas></div></div><div class="col" data-v-4ec4e7f4><p data-v-4ec4e7f4>Tickets by status</p><div class="pie-container" data-v-4ec4e7f4><canvas id="planet-chart3" data-v-4ec4e7f4></canvas></div></div></div>',1),gr={class:"row"},vr={class:"col"},br={class:"table-responsive"},fr={class:"table caption-top"},kr={key:0},yr={key:1},wr=dr((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Project Manager")])],-1))),_r={class:"btn-container"},Tr=dr((()=>(0,a._)("button",{type:"button",class:"btn btn-outline-primary"}," View all ",-1))),jr={class:"col"},Dr={class:"table-responsive"},Pr={class:"table caption-top"},Mr={key:0},Cr={key:1},Nr=dr((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status")])],-1))),Ir={class:"btn-container"},Sr=dr((()=>(0,a._)("button",{type:"button",class:"btn btn-outline-primary"}," View all ",-1)));function Ur(e,t,s,r,o,i){const n=(0,a.up)("NavBar"),l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n),(0,a._)("div",pr,[mr,(0,a._)("div",ur,[hr,(0,a._)("div",gr,[(0,a._)("div",vr,[(0,a._)("div",br,[(0,a._)("table",fr,[i.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",kr," All Projects ")):((0,a.wg)(),(0,a.iD)("caption",yr," Assigned Projects ")),wr,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.projects,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,h.zw)(e.name),1),(0,a._)("td",null,(0,h.zw)(e.description),1),(0,a._)("td",null,(0,h.zw)(e.projectManager.firstName)+" "+(0,h.zw)(e.projectManager.lastName),1)])))),128))])]),(0,a._)("div",_r,[(0,a.Wm)(l,{to:"/projects"},{default:(0,a.w5)((()=>[Tr])),_:1})])])]),(0,a._)("div",jr,[(0,a._)("div",Dr,[(0,a._)("table",Pr,[i.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("caption",Mr," All Tickets ")):((0,a.wg)(),(0,a.iD)("caption",Cr," Assigned Tickets ")),Nr,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.tickets,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,h.zw)(e.title),1),(0,a._)("td",null,(0,h.zw)(e.description),1),(0,a._)("td",null,(0,h.zw)(e.priority),1),(0,a._)("td",null,(0,h.zw)(e.type),1),(0,a._)("td",null,(0,h.zw)(e.status),1)])))),128))])]),(0,a._)("div",Ir,[(0,a.Wm)(l,{to:"/tickets"},{default:(0,a.w5)((()=>[Sr])),_:1})])])])])])])],64)}var Ar=s(4531),xr=s.n(Ar),zr={name:"DashboardPage",components:{NavBar:ge},data(){return{projects:[],tickets:[],errorGetProjects:"",errorGetTickets:"",nbNoneTicket:0,nbLowTicket:0,nbMediumTicket:0,nbHighTicket:0,nbBugTicket:0,nbFRTicket:0,nbDRTicket:0,nbOtherTicket:0,nbNewTicket:0,nbOpenTicket:0,nbProgressTicket:0,nbResolvedTicket:0,nbAddInfoTicket:0,planetChartData:{type:"pie",data:{labels:["None","Low","Medium","High"],datasets:[{label:"Priority",data:[0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},planetChartData2:{type:"pie",data:{labels:["Bug","FeatureRequest","DocRequest","Other"],datasets:[{label:"Type",data:[0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},planetChartData3:{type:"pie",data:{labels:["New","Open","InProgress","Resolved","AddInfo"],datasets:[{label:"Status",data:[0,0,0,0,0],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(100, 205, 86)","rgb(10, 10, 10)"],hoverOffset:4}]},options:{responsive:!0}},myChart:"",myChart2:"",myChart3:""}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))}},mounted(){const e=document.getElementById("planet-chart");this.myChart=new(xr())(e,this.planetChartData);const t=document.getElementById("planet-chart2");this.myChart2=new(xr())(t,this.planetChartData2);const s=document.getElementById("planet-chart3");this.myChart3=new(xr())(s,this.planetChartData3)},created:function(){this.loggedIn?this.currentUserIsAdminOrPM?(er.getAllProjects().then((e=>{this.projects=e.data.slice(0,3),console.log(this.projects)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),sr.getAllTickets().then((e=>{var t=e.data;for(var s of t){var r=s.priority;"Medium"==r?this.nbMediumTicket=this.nbMediumTicket+1:"High"==r?this.nbHighTicket=this.nbHighTicket+1:"Low"==r?this.nbLowTicket=this.nbLowTicket+1:this.nbNoneTicket=this.nbNoneTicket+1;var a=s.type;"Bug"==a?this.nbBugTicket=this.nbBugTicket+1:"FeatureRequest"==a?this.nbFRTicket=this.nbFRTicket+1:"DocRequest"==a?this.nbDRTicket=this.nbDRTicket+1:this.nbOtherTicket=this.nbOtherTicket+1;var o=s.status;"New"==o?this.nbNewTicket=this.nbNewTicket+1:"Open"==o?this.nbOpenTicket=this.nbOpenTicket+1:"InProgress"==o?this.nbProgressTicket=this.nbProgressTicket+1:"Resolved"==o?this.nbResolvedTicket=this.nbResolvedTicket+1:this.nbAddInfoTicket=this.nbAddInfoTicket+1}this.myChart.data.datasets[0].data=[this.nbNoneTicket,this.nbLowTicket,this.nbMediumTicket,this.nbHighTicket],this.myChart2.data.datasets[0].data=[this.nbBugTicket,this.nbFRTicket,this.nbDRTicket,this.nbOtherTicket],this.myChart3.data.datasets[0].data=[this.nbNewTicket,this.nbOpenTicket,this.nbProgressTicket,this.nbResolvedTicket,this.nbAddInfoTicket],this.myChart.update(),this.myChart2.update(),this.myChart3.update(),this.tickets=t.slice(0,3)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):(er.getAssignedProjectForDev(this.currentUser.username).then((e=>{this.projects=e.data.slice(0,3),console.log(this.projects)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),sr.getAssignedTicketsForDev(this.currentUser.username).then((e=>{var t=e.data;for(var s of t){var r=s.priority;"Medium"==r?this.nbMediumTicket=this.nbMediumTicket+1:"High"==r?this.nbHighTicket=this.nbHighTicket+1:"Low"==r?this.nbLowTicket=this.nbLowTicket+1:this.nbNoneTicket=this.nbNoneTicket+1;var a=s.type;"Bug"==a?this.nbBugTicket=this.nbBugTicket+1:"FeatureRequest"==a?this.nbFRTicket=this.nbFRTicket+1:"DocRequest"==a?this.nbDRTicket=this.nbDRTicket+1:this.nbOtherTicket=this.nbOtherTicket+1;var o=s.status;"New"==o?this.nbNewTicket=this.nbNewTicket+1:"Open"==o?this.nbOpenTicket=this.nbOpenTicket+1:"InProgress"==o?this.nbProgressTicket=this.nbProgressTicket+1:"Resolved"==o?this.nbResolvedTicket=this.nbResolvedTicket+1:this.nbAddInfoTicket=this.nbAddInfoTicket+1}this.myChart.data.datasets[0].data=[this.nbNoneTicket,this.nbLowTicket,this.nbMediumTicket,this.nbHighTicket],this.myChart2.data.datasets[0].data=[this.nbBugTicket,this.nbFRTicket,this.nbDRTicket,this.nbOtherTicket],this.myChart3.data.datasets[0].data=[this.nbNewTicket,this.nbOpenTicket,this.nbProgressTicket,this.nbResolvedTicket,this.nbAddInfoTicket],this.myChart.update(),this.myChart2.update(),this.myChart3.update(),this.tickets=t.slice(0,3)}),(e=>{this.errorGetTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.$router.push("/login")}};const Or=(0,c.Z)(zr,[["render",Ur],["__scopeId","data-v-4ec4e7f4"]]);var Er=Or,Rr={name:"DashboardView",components:{DashboardPage:Er}};const Lr=(0,c.Z)(Rr,[["render",cr]]);var Vr=Lr;function qr(e,t,s,r,o,i){const n=(0,a.up)("LoginPage");return(0,a.wg)(),(0,a.j4)(n)}const Hr=e=>((0,a.dD)("data-v-3146908e"),e=e(),(0,a.Cn)(),e),Gr={class:"container"},Fr={class:"hey"},$r=Hr((()=>(0,a._)("div",{class:"header"},[(0,a._)("h3",null,"Log in")],-1))),Wr={class:"row"},Yr={class:"col-md-12"},Br={class:"form-group mb-12"},Kr=Hr((()=>(0,a._)("label",{for:"username"},"Username",-1))),Zr={class:"form-group mb-12"},Jr=Hr((()=>(0,a._)("label",{for:"password"},"Password",-1))),Qr={class:"form-group mb-12"},Xr=["disabled"],ea={class:"spinner-border spinner-border-sm"},ta=Hr((()=>(0,a._)("span",null,"Login",-1))),sa={class:"form-group mb-12"},ra={key:0,class:"alert alert-danger",role:"alert"};function aa(e,t,s,o,i,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("Field"),d=(0,a.up)("ErrorMessage"),p=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Gr,[(0,a._)("div",Fr,[$r,(0,a._)("div",Wr,[(0,a._)("div",Yr,[(0,a.Wm)(p,{class:"d-flex flex-column",onSubmit:n.handleLogin,"validation-schema":i.schema},{default:(0,a.w5)((()=>[(0,a._)("div",Br,[Kr,(0,a.Wm)(c,{name:"username",type:"text",class:"form-control"}),(0,a.Wm)(d,{name:"username",class:"error-feedback"})]),(0,a._)("div",Zr,[Jr,(0,a.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,a.Wm)(d,{name:"password",class:"error-feedback"})]),(0,a._)("div",Qr,[(0,a._)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,a.wy)((0,a._)("span",ea,null,512),[[r.F8,i.loading]]),ta],8,Xr)]),(0,a._)("div",sa,[i.message?((0,a.wg)(),(0,a.iD)("div",ra,(0,h.zw)(i.message),1)):(0,a.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])])])])],64)}var oa=s(5708),ia=s(7629),na={name:"LoginPage",components:{NavBar:ge,Form:oa.l0,Field:oa.gN,ErrorMessage:oa.Bc},data(){const e=ia.Ry().shape({username:ia.Z_().required("Username is required!"),password:ia.Z_().required("Password is required!")});return{loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/dashboard")},methods:{handleLogin(e){this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>{this.$router.push("/dashboard")}),(e=>{this.loading=!1,this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}}};const la=(0,c.Z)(na,[["render",aa],["__scopeId","data-v-3146908e"]]);var ca=la,da={name:"LoginView",components:{LoginPage:ca}};const pa=(0,c.Z)(da,[["render",qr]]);var ma=pa;function ua(e,t,s,r,o,i){const n=(0,a.up)("MyAccountPage");return(0,a.wg)(),(0,a.j4)(n)}var ha=s.p+"img/user.2a0a00e9.svg";const ga=e=>((0,a.dD)("data-v-0216a3a2"),e=e(),(0,a.Cn)(),e),va={class:"container"},ba=ga((()=>(0,a._)("h1",null,"MY ACCOUNT",-1))),fa={class:"account"},ka={class:"containers"},ya=ga((()=>(0,a._)("img",{src:ha,alt:"",width:"50",height:"50",class:"d-inline-block align-text-top"},null,-1))),wa={class:"row"},_a={class:"col-md-12"},Ta={class:"mb-12"},ja=ga((()=>(0,a._)("label",{for:"formGroupExampleInput",class:"form-label"},"First name",-1))),Da={class:"mb-12"},Pa=ga((()=>(0,a._)("label",{for:"formGroupExampleInput2",class:"form-label"},"Last name",-1))),Ma={class:"mb-12"},Ca=ga((()=>(0,a._)("label",{for:"formGroupExampleInput2",class:"form-label"},"Username",-1))),Na={class:"mb-12"},Ia=ga((()=>(0,a._)("label",{for:"formGroupExampleInput2",class:"form-label"},"Email",-1))),Sa={class:"mb-12"};function Ua(e,t,s,o,i,n){const l=(0,a.up)("NavBar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",va,[ba,(0,a._)("div",fa,[(0,a._)("div",ka,[ya,(0,a._)("span",null,(0,h.zw)(i.errorModifyUser),1),(0,a._)("div",wa,[(0,a._)("div",_a,[(0,a._)("div",Ta,[ja,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.newParams.firstName=e),class:"form-control",id:"formGroupExampleInput"},null,512),[[r.nr,i.newParams.firstName]])]),(0,a._)("div",Da,[Pa,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.newParams.lastName=e),class:"form-control",id:"formGroupExampleInput2"},null,512),[[r.nr,i.newParams.lastName]])]),(0,a._)("div",Ma,[Ca,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>i.newParams.username=e),class:"form-control",id:"formGroupExampleInput2"},null,512),[[r.nr,i.newParams.username]])]),(0,a._)("div",Na,[Ia,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>i.newParams.email=e),class:"form-control",id:"formGroupExampleInput2"},null,512),[[r.nr,i.newParams.email]])]),(0,a._)("div",Sa,[(0,a._)("button",{type:"submit",onClick:t[4]||(t[4]=e=>n.modifyUser(i.newParams.username,i.newParams.email,i.newParams.password,i.newParams.firstName,i.newParams.lastName)),class:"btn btn-primary"}," Submit ")])])])])])])],64)}var Aa={name:"MyAccountPage",components:{NavBar:ge},data(){return{item:"",newParams:{username:"",email:"",password:"",firstName:"",lastName:""},errorGetUser:"",errorModifyUser:"",response:[]}},computed:{currentUser(){return this.$store.state.auth.user},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?_e.getUserWithUsername(this.currentUser.username).then((e=>{this.newParams.username=e.data.username,this.newParams.email=e.data.email,this.newParams.password=e.data.password,this.newParams.firstName=e.data.firstName,this.newParams.lastName=e.data.lastName}),(e=>{this.errorGetUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):this.$router.push("/login")},methods:{modifyUser:function(e,t,s,r,a){_e.modifyUser(this.currentUser.username,e,t,s,r,a).then((e=>{this.errorModifyUser="",this.newParams.username=e.data.username,this.newParams.email=e.data.email,this.newParams.password=e.data.password,this.newParams.firstName=e.data.firstName,this.newParams.lastName=e.data.lastName}),(e=>{this.errorModifyUser=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}};const xa=(0,c.Z)(Aa,[["render",Ua],["__scopeId","data-v-0216a3a2"]]);var za=xa,Oa={name:"MyAccountView",components:{MyAccountPage:za}};const Ea=(0,c.Z)(Oa,[["render",ua]]);var Ra=Ea;function La(e,t,s,r,o,i){const n=(0,a.up)("ProjectPage");return(0,a.wg)(),(0,a.j4)(n)}const Va=e=>((0,a.dD)("data-v-aef3ee72"),e=e(),(0,a.Cn)(),e),qa={class:"modal",id:"exampleModal1",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ha={class:"modal-dialog"},Ga={class:"modal-content"},Fa=Va((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),$a={class:"modal-body"},Wa={class:"row g-3"},Ya={key:0},Ba={key:1},Ka={key:2},Za={class:"col-md-12"},Ja=Va((()=>(0,a._)("label",{for:"title",class:"form-label"},"Title",-1))),Qa={class:"col-md-12"},Xa=Va((()=>(0,a._)("label",{for:"project",class:"form-label"},"Project",-1))),eo=["value"],to={class:"col-md-12"},so=Va((()=>(0,a._)("label",{for:"description",class:"form-label"},"Description",-1))),ro={class:"col-12"},ao=Va((()=>(0,a._)("label",{for:"devs",class:"form-label"},"Assigned Developers",-1))),oo=["value"],io={class:"col-md-4"},no=Va((()=>(0,a._)("label",{for:"priority",class:"form-label"},"Priority",-1))),lo={class:"col-md-4"},co=Va((()=>(0,a._)("label",{for:"type",class:"form-label"},"Type",-1))),po={class:"col-md-4"},mo=Va((()=>(0,a._)("label",{for:"status",class:"form-label"},"Status",-1))),uo={class:"modal-footer"},ho={ref:"CloseModify",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},go={class:"modal",id:"exampleModal3",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},vo={class:"modal-dialog"},bo={class:"modal-content"},fo=Va((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New ticket"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ko={class:"modal-body"},yo={class:"row g-3"},wo={key:0},_o={key:1},To={class:"col-md-12"},jo=Va((()=>(0,a._)("label",{for:"title1",class:"form-label"},"Title",-1))),Do={class:"col-md-12"},Po=Va((()=>(0,a._)("label",{for:"description1",class:"form-label"},"Description",-1))),Mo={class:"col-12"},Co=Va((()=>(0,a._)("label",{for:"devs1",class:"form-label"},"Assigned Developers",-1))),No=["value"],Io={class:"col-md-4"},So=Va((()=>(0,a._)("label",{for:"priority1",class:"form-label"},"Priority",-1))),Uo=Va((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),Ao={class:"col-md-4"},xo=Va((()=>(0,a._)("label",{for:"type1",class:"form-label"},"Type",-1))),zo=Va((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),Oo={class:"col-md-4"},Eo=Va((()=>(0,a._)("label",{for:"status1",class:"form-label"},"Status",-1))),Ro=Va((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),Lo={class:"modal-footer"},Vo={ref:"CloseTicket",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},qo={class:"container"},Ho=Va((()=>(0,a._)("h1",null,"PROJECTS",-1))),Go={class:"modal",id:"exampleModal2",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Fo={class:"modal-dialog"},$o={class:"modal-content"},Wo=Va((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"exampleModalLabel"},"New project"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Yo={class:"modal-body"},Bo={class:"row g-3"},Ko={key:0},Zo={key:1},Jo={class:"col-md-12"},Qo=Va((()=>(0,a._)("label",{for:"inputEmail4",class:"form-label"},"Title",-1))),Xo={class:"col-md-12"},ei=Va((()=>(0,a._)("label",{for:"inputPassword4",class:"form-label"},"Description",-1))),ti={class:"col-12"},si=Va((()=>(0,a._)("label",{for:"inputAddress",class:"form-label"},"Assigned Developers",-1))),ri=["value"],ai={class:"col-12"},oi=Va((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"Project Manager",-1))),ii=Va((()=>(0,a._)("option",{value:null,disabled:""},"Choose...",-1))),ni=["value"],li={class:"modal-footer"},ci={ref:"Close",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},di={class:"theContent"},pi={class:"tables"},mi={class:"row"},ui={class:"col"},hi={class:"table-responsive"},gi=Va((()=>(0,a._)("caption",null," Assigned projects ",-1))),vi=Va((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Description"),(0,a._)("th",{scope:"col"},"Project Manager")])],-1))),bi={key:0,type:"button",class:"btn btn-primary"},fi=Va((()=>(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal2"},"New project",-1))),ki=[fi],yi={class:"outer-container"},wi=Va((()=>(0,a._)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Project information ")]),(0,a._)("li",{class:"nav-item",role:"presentation"},[(0,a._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"}," Tickets ")])],-1))),_i={class:"tab-content",id:"myTabContent"},Ti={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},ji=Va((()=>(0,a._)("div",{class:"text-container"},"Edit project information",-1))),Di={class:"afterTabTitle"},Pi={class:"form-container"},Mi={key:0,class:"row g-3"},Ci={key:0},Ni={key:1},Ii={key:2},Si={key:3},Ui={class:"col-md-6"},Ai=Va((()=>(0,a._)("label",{for:"inputEmail4",class:"form-label"},"TITLE",-1))),xi={class:"col-md-6"},zi=Va((()=>(0,a._)("label",{for:"inputPassword4",class:"form-label"},"DESCRIPTION",-1))),Oi={class:"col-md-6"},Ei=Va((()=>(0,a._)("label",{for:"inputState",class:"form-label"},"PROJECT MANAGER",-1))),Ri=["value"],Li={class:"col-md-6"},Vi=Va((()=>(0,a._)("label",{for:"inputAddress",class:"form-label"},"ASSIGNED DEVELOPERS",-1))),qi=["value"],Hi={class:"col-md-10"},Gi={class:"col-md-2"},Fi={key:1,class:"projectInfoContainer"},$i={class:"row g-3"},Wi={class:"col-md-6"},Yi=Va((()=>(0,a._)("label",{for:"pname",class:"form-label"},"TITLE",-1))),Bi={class:"col-md-6"},Ki=Va((()=>(0,a._)("label",{for:"pdescription",class:"form-label"},"DESCRIPTION",-1))),Zi={class:"col-md-6"},Ji=Va((()=>(0,a._)("label",{for:"ppm",class:"form-label"},"PROJECT MANAGER",-1))),Qi={class:"col-md-6"},Xi=Va((()=>(0,a._)("label",{for:"pdevs",class:"form-label"},"ASSIGNED DEVELOPERS",-1))),en={class:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},tn=Va((()=>(0,a._)("div",{class:"text-container"}," Tickets assigned to the selected project ",-1))),sn={class:"row g-100"},rn={class:"table-responsive"},an={key:0},on=Va((()=>(0,a._)("caption",null," List of tickets ",-1))),nn=Va((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Title"),(0,a._)("th",{scope:"col"},"Author"),(0,a._)("th",{scope:"col"},"Priority"),(0,a._)("th",{scope:"col"},"Type"),(0,a._)("th",{scope:"col"},"Status"),(0,a._)("th",{scope:"col"},"Creation date"),(0,a._)("th",{scope:"col"},"Project"),(0,a._)("th",{scope:"col"})])],-1))),ln={class:"row"},cn=Va((()=>(0,a._)("div",{class:"col-md-2"},[(0,a._)("button",{type:"button",class:"btn btn-primary"},[(0,a._)("a",{href:"#/","data-bs-toggle":"modal","data-bs-target":"#exampleModal3"},"New ticket")])],-1))),dn={class:"col-md-8"},pn={type:"button",class:"btn btn-primary"},mn={class:"col-md-2"},un={type:"button",class:"btn btn-danger"},hn={class:"row g-3"},gn={class:"col"},vn={class:"ticket-info"},bn=Va((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"text-container"}," Selected ticket information ")],-1))),fn={class:"row"},kn={class:"col-6"},yn=Va((()=>(0,a._)("div",{class:"text-container3"},"TITLE",-1))),wn={class:"text-container4"},_n={class:"col-6"},Tn=Va((()=>(0,a._)("div",{class:"text-container3"},"PROJECT",-1))),jn={class:"text-container4"},Dn={class:"row"},Pn={class:"col"},Mn=Va((()=>(0,a._)("div",{class:"text-container3"},"DESCRIPTION",-1))),Cn={class:"text-container4"},Nn={class:"col"},In=Va((()=>(0,a._)("div",{class:"text-container3"},"AUTHOR",-1))),Sn={class:"text-container4"},Un={class:"row"},An={class:"col"},xn=Va((()=>(0,a._)("div",{class:"text-container3"},"TYPE",-1))),zn={class:"text-container4"},On={class:"col"},En=Va((()=>(0,a._)("div",{class:"text-container3"},"PRIORITY",-1))),Rn={class:"text-container4"},Ln={class:"col"},Vn=Va((()=>(0,a._)("div",{class:"text-container3"},"STATUS",-1))),qn={class:"text-container4"},Hn={class:"row"},Gn={class:"col"},Fn=Va((()=>(0,a._)("div",{class:"text-container3"},"ASSIGNED DEVS",-1))),$n={class:"ticket-hist"},Wn={class:"row"},Yn={class:"col"},Bn={class:"table-responsive"},Kn=Va((()=>(0,a._)("caption",null," Ticket history ",-1))),Zn=Va((()=>(0,a._)("thead",{class:"table-light"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Property changed"),(0,a._)("th",{scope:"col"},"Old value"),(0,a._)("th",{scope:"col"},"New value"),(0,a._)("th",{scope:"col"},"Date of change")])],-1))),Jn={class:"col"},Qn={class:"row d-flex justify-content-center"},Xn={class:"card shadow-0 border",style:{"background-color":"#f0f2f5"}},el={class:"card-body p-4"},tl={"data-mdb-input-init":"",class:"form-outline mb-4"},sl={key:0},rl={type:"button",class:"btn btn-primary"},al={class:"card mb-4"},ol={class:"card-body"},il={class:"d-flex justify-content-between"},nl={class:"d-flex flex-row align-items-center"},ll={class:"small mb-0 ms-2"},cl={class:"d-flex flex-row align-items-center"},dl={class:"small text-muted mb-0"},pl={key:1,class:"badgeInactive"},ml={key:3,class:"badgeInactive"},ul=Va((()=>(0,a._)("div",{class:"tab-pane fade",id:"contact",role:"tabpanel","aria-labelledby":"contact-tab"}," ... ",-1)));function hl(e,t,s,o,i,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("DataTable");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",qa,[(0,a._)("div",Ha,[(0,a._)("div",Ga,[Fa,(0,a._)("div",$a,[(0,a._)("form",Wa,[""!=i.errorModifyTicket?((0,a.wg)(),(0,a.iD)("span",Ya,(0,h.zw)(i.errorModifyTicket),1)):(0,a.kq)("",!0),""!=i.errorAssignDevsToTicketInModify?((0,a.wg)(),(0,a.iD)("span",Ba,(0,h.zw)(i.errorAssignDevsToTicketInModify),1)):(0,a.kq)("",!0),""!=i.errorAssignProjectToTicketInModify?((0,a.wg)(),(0,a.iD)("span",Ka,(0,h.zw)(i.errorAssignProjectToTicketInModify),1)):(0,a.kq)("",!0),(0,a._)("div",Za,[Ja,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>i.newTitle=e),id:"title1"},null,512),[[r.nr,i.newTitle]])]),(0,a._)("div",Qa,[Xa,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[1]||(t[1]=e=>i.newTicketProject=e),onChange:t[2]||(t[2]=e=>n.setDevs(i.newTicketProject)),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.data,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e.id,key:e.id},(0,h.zw)(e.name),9,eo)))),128))],544),[[r.bM,i.newTicketProject]])]),(0,a._)("div",to,[so,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[3]||(t[3]=e=>i.newDescription=e),id:"description1"},null,512),[[r.nr,i.newDescription]])]),(0,a._)("div",ro,[ao,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>i.newTicketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectedProjectDevs,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,oo)))),128))],512),[[r.bM,i.newTicketDevs]])]),(0,a._)("div",io,[no,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[5]||(t[5]=e=>i.newPriority=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newPriority]])]),(0,a._)("div",lo,[co,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[6]||(t[6]=e=>i.newType=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newType]])]),(0,a._)("div",po,[mo,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[7]||(t[7]=e=>i.newStatus=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.newStatus]])])])]),(0,a._)("div",uo,[(0,a._)("button",ho," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=e=>n.modifyTicket(i.selectedTicketId,i.newTitle,i.newDescription,i.newPriority,i.newStatus,i.newType,i.newTicketProject,i.newTicketDevs))}," Save changes ")])])])]),(0,a._)("div",go,[(0,a._)("div",vo,[(0,a._)("div",bo,[fo,(0,a._)("div",ko,[(0,a._)("form",yo,[""!=i.errorCreateTicket?((0,a.wg)(),(0,a.iD)("span",wo,(0,h.zw)(i.errorCreateTicket),1)):(0,a.kq)("",!0),""!=i.errorAssignDevsToTicket?((0,a.wg)(),(0,a.iD)("span",_o,(0,h.zw)(i.errorAssignDevsToTicket),1)):(0,a.kq)("",!0),(0,a._)("div",To,[jo,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=e=>i.ticketTitle=e),id:"title1"},null,512),[[r.nr,i.ticketTitle]])]),(0,a._)("div",Do,[Po,(0,a.wy)((0,a._)("input",{class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>i.ticketDescription=e),id:"description1"},null,512),[[r.nr,i.ticketDescription]])]),(0,a._)("div",Mo,[Co,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>i.ticketDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectedProjectDevs,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,No)))),128))],512),[[r.bM,i.ticketDevs]])]),(0,a._)("div",Io,[So,(0,a.wy)((0,a._)("select",{id:"priority1","onUpdate:modelValue":t[12]||(t[12]=e=>i.ticketPriority=e),class:"form-select"},[Uo,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.priorityChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.ticketPriority]])]),(0,a._)("div",Ao,[xo,(0,a.wy)((0,a._)("select",{id:"type1","onUpdate:modelValue":t[13]||(t[13]=e=>i.ticketType=e),class:"form-select"},[zo,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.typeChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.ticketType]])]),(0,a._)("div",Oo,[Eo,(0,a.wy)((0,a._)("select",{id:"status1","onUpdate:modelValue":t[14]||(t[14]=e=>i.ticketStatus=e),class:"form-select"},[Ro,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.statusChoices,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id},(0,h.zw)(e),1)))),128))],512),[[r.bM,i.ticketStatus]])])])]),(0,a._)("div",Lo,[(0,a._)("button",Vo," Close ",512),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[15]||(t[15]=e=>n.createTicket(i.ticketTitle,i.ticketDescription,i.ticketPriority,i.ticketStatus,i.ticketType,i.selectedProjectId,i.ticketDevs))}," Create new ticket ")])])])]),(0,a._)("div",qo,[Ho,(0,a._)("div",Go,[(0,a._)("div",Fo,[(0,a._)("div",$o,[Wo,(0,a._)("div",Yo,[(0,a._)("form",Bo,[""!=i.errorCreateProject?((0,a.wg)(),(0,a.iD)("span",Ko,(0,h.zw)(i.errorCreateProject),1)):(0,a.kq)("",!0),""!=i.errorSetDevs?((0,a.wg)(),(0,a.iD)("span",Zo,(0,h.zw)(i.errorSetDevs),1)):(0,a.kq)("",!0),(0,a._)("div",Jo,[Qo,(0,a.wy)((0,a._)("input",{type:"title",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>i.projectName=e),id:"title"},null,512),[[r.nr,i.projectName]])]),(0,a._)("div",Xo,[ei,(0,a.wy)((0,a._)("input",{type:"decription",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=e=>i.projectDescription=e),id:"description"},null,512),[[r.nr,i.projectDescription]])]),(0,a._)("div",ti,[si,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[18]||(t[18]=e=>i.projectDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.developers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,ri)))),128))],512),[[r.bM,i.projectDevs]])]),(0,a._)("div",ai,[oi,(0,a.wy)((0,a._)("select",{id:"inputState","onUpdate:modelValue":t[19]||(t[19]=e=>i.projectPM=e),class:"form-select"},[ii,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projectManagers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,ni)))),128))],512),[[r.bM,i.projectPM]])])])]),(0,a._)("div",li,[(0,a._)("button",ci," Close ",512),(0,a._)("button",{ref:"CreateProject",type:"button","data-dismiss":"modal",class:"btn btn-primary",onClick:t[20]||(t[20]=e=>n.createProject(i.projectName,i.projectDescription,i.projectPM,i.projectDevs))}," Create new project ",512)])])])]),(0,a._)("div",di,[(0,a._)("div",pi,[(0,a._)("div",mi,[(0,a._)("div",ui,[(0,a._)("div",hi,[(0,a.Wm)(c,{columns:i.columns,data:i.data,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,select:{style:"single",toggleable:!1}},ref:"table",onSelect:t[21]||(t[21]=e=>n.clickRow())},{default:(0,a.w5)((()=>[gi,vi])),_:1},8,["columns","data"])]),n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",bi,ki)):(0,a.kq)("",!0)])])]),(0,a._)("div",yi,[wi,(0,a._)("div",_i,[(0,a._)("div",Ti,[ji,(0,a._)("div",Di,[(0,a._)("div",Pi,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("form",Mi,[""!=i.errorModifyProject?((0,a.wg)(),(0,a.iD)("span",Ci,(0,h.zw)(i.errorModifyProject),1)):(0,a.kq)("",!0),""!=i.errorSetDevsInModify?((0,a.wg)(),(0,a.iD)("span",Ni,(0,h.zw)(i.errorSetDevsInModify),1)):(0,a.kq)("",!0),""!=i.errorAssignPMtoProjectInModify?((0,a.wg)(),(0,a.iD)("span",Ii,(0,h.zw)(i.errorAssignPMtoProjectInModify),1)):(0,a.kq)("",!0),""!=i.errorDeleteProject?((0,a.wg)(),(0,a.iD)("span",Si,(0,h.zw)(i.errorDeleteProject),1)):(0,a.kq)("",!0),(0,a._)("div",Ui,[Ai,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[22]||(t[22]=e=>i.selectedName=e),id:"selectedName"},null,512),[[r.nr,i.selectedName]])]),(0,a._)("div",xi,[zi,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[23]||(t[23]=e=>i.selectedDescription=e),id:"selectedDescription"},null,512),[[r.nr,i.selectedDescription]])]),(0,a._)("div",Oi,[Ei,(0,a.wy)((0,a._)("select",{id:"inputState","onUpdate:modelValue":t[24]||(t[24]=e=>i.selectedPm.username=e),class:"form-select"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.projectManagers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,Ri)))),128))],512),[[r.bM,i.selectedPm.username]])]),(0,a._)("div",Li,[Vi,(0,a.wy)((0,a._)("select",{class:"form-select","onUpdate:modelValue":t[25]||(t[25]=e=>i.selectedDevs=e),multiple:"","aria-label":"multiple select example"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.developers,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.username},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),9,qi)))),128))],512),[[r.bM,i.selectedDevs]])]),(0,a._)("div",Hi,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[26]||(t[26]=e=>n.modifyProject(i.selectedProjectId,i.selectedName,i.selectedDescription,i.selectedPm.username,i.selectedDevs)),class:"btn btn-primary"}," Submit changes ")):(0,a.kq)("",!0)]),(0,a._)("div",Gi,[n.currentUserIsAdminOrPM?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[27]||(t[27]=e=>n.deleteProject(i.selectedProjectId)),class:"btn btn-danger"}," Delete project ")):(0,a.kq)("",!0)])])):(0,a.kq)("",!0),n.currentUserIsAdminOrPM?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Fi,[(0,a._)("div",$i,[(0,a._)("div",Wi,[Yi,(0,a._)("p",null,(0,h.zw)(i.selectedName),1)]),(0,a._)("div",Bi,[Ki,(0,a._)("p",null,(0,h.zw)(i.selectedDescription),1)]),(0,a._)("div",Zi,[Ji,(0,a._)("p",null,(0,h.zw)(i.selectedPm.firstName)+" "+(0,h.zw)(i.selectedPm.lastName),1)]),(0,a._)("div",Qi,[Xi,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectedDevsObj,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("p",null,(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)])))),128))])])]))])])]),(0,a._)("div",en,[tn,(0,a._)("div",sn,[(0,a._)("div",rn,[""!=i.errorSelectTicket?((0,a.wg)(),(0,a.iD)("span",an,(0,h.zw)(i.errorSelectTicket),1)):(0,a.kq)("",!0),(0,a.Wm)(c,{columns:i.ticketColumns,data:i.projectTickets,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!0,autoWidth:!1,select:{style:"single",toggleable:!1}},ref:"tableTicket",onSelect:t[28]||(t[28]=e=>n.clickRowTicket())},{default:(0,a.w5)((()=>[on,nn])),_:1},8,["columns","data"]),(0,a._)("div",ln,[cn,(0,a._)("div",dn,[(0,a._)("button",pn,[(0,a._)("a",{href:"#/",onClick:t[29]||(t[29]=e=>n.checkIfTicketSelected()),"data-bs-target":"#exampleModal1"},"Edit ticket")])]),(0,a._)("div",mn,[(0,a._)("button",un,[(0,a._)("a",{href:"#/",onClick:t[30]||(t[30]=e=>n.deleteTicket(i.selectedTicketId))},"Delete ticket")])])])])]),(0,a._)("div",hn,[(0,a._)("div",gn,[(0,a._)("div",vn,[bn,(0,a._)("div",fn,[(0,a._)("div",kn,[yn,(0,a._)("div",wn,(0,h.zw)(i.selectedTicketTitle),1)]),(0,a._)("div",_n,[Tn,(0,a._)("div",jn,(0,h.zw)(i.selectedTicketProjectName),1)])]),(0,a._)("div",Dn,[(0,a._)("div",Pn,[Mn,(0,a._)("div",Cn,(0,h.zw)(i.selectedTicketDescription),1)]),(0,a._)("div",Nn,[In,(0,a._)("div",Sn,(0,h.zw)(i.selectedTicketSubmitter.firstName)+" "+(0,h.zw)(i.selectedTicketSubmitter.lastName),1)])]),(0,a._)("div",Un,[(0,a._)("div",An,[xn,(0,a._)("div",zn,(0,h.zw)(i.selectedTicketType),1)]),(0,a._)("div",On,[En,(0,a._)("div",Rn,(0,h.zw)(i.selectedTicketPriority),1)]),(0,a._)("div",Ln,[Vn,(0,a._)("div",qn,(0,h.zw)(i.selectedTicketStatus),1)])]),(0,a._)("div",Hn,[(0,a._)("div",Gn,[Fn,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.selectedTicketDevs,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"text-container4",key:e.id},(0,h.zw)(e.firstName)+" "+(0,h.zw)(e.lastName),1)))),128))])])]),(0,a._)("div",$n,[(0,a._)("div",Wn,[(0,a._)("div",Yn,[(0,a._)("div",Bn,[(0,a.Wm)(c,{columns:i.historyColumns,data:i.historyData,class:"table caption-top",width:"100%",options:{pageLength:5,lengthChange:!1,select:!1},ref:"the-tables"},{default:(0,a.w5)((()=>[Kn,Zn])),_:1},8,["columns","data"])])])])])]),(0,a._)("div",Jn,[(0,a._)("div",Qn,[(0,a._)("div",null,[(0,a._)("div",Xn,[(0,a._)("div",el,[(0,a._)("div",tl,[""!=i.errorCreateComment?((0,a.wg)(),(0,a.iD)("span",sl,(0,h.zw)(i.errorCreateComment),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text",id:"addANote","onUpdate:modelValue":t[31]||(t[31]=e=>i.commentMessage=e),class:"form-control",placeholder:"Type comment..."},null,512),[[r.nr,i.commentMessage]]),(0,a._)("button",rl,[(0,a._)("a",{href:"#/",onClick:t[32]||(t[32]=e=>n.addComment(i.selectedTicketId,i.commentMessage))},"Publish")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.commentsOfCurrPage,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"comments",key:e.id},[(0,a._)("div",al,[(0,a._)("div",ol,[(0,a._)("p",null,(0,h.zw)(e.message),1),(0,a._)("div",il,[(0,a._)("div",nl,[(0,a._)("p",ll,(0,h.zw)(e.commenter.firstName)+" "+(0,h.zw)(e.commenter.lastName),1)]),(0,a._)("div",cl,[(0,a._)("p",dl,(0,h.zw)(e.creationDate.substring(0,19)),1)])])])])])))),128)),(0,a._)("p",null,[i.prevActive?((0,a.wg)(),(0,a.iD)("a",{key:0,class:"badge",onClick:t[33]||(t[33]=e=>n.gotoPrev())},"Prev")):((0,a.wg)(),(0,a.iD)("a",pl,"Prev")),(0,a.Uk)(" - "+(0,h.zw)(i.pageIndex+1)+" - ",1),i.nextActive?((0,a.wg)(),(0,a.iD)("a",{key:2,class:"badge",onClick:t[34]||(t[34]=e=>n.gotoNext())},"Next")):((0,a.wg)(),(0,a.iD)("a",ml,"Next"))])])])])])])])]),ul])])])])],64)}ve.Z.use(be.Z);var gl={name:"ProjectPage",components:{NavBar:ge,DataTable:ve.Z},data(){return{modalInstance:null,ticketTitle:"",ticketDescription:"",ticketPriority:"null",ticketStatus:"null",ticketType:"null",commentMessage:"",historyData:[],data:[],ticketDevs:[],newTicketProject:"",newTicketDevs:[],newTitle:"",newDescription:"",newPriority:"",newStatus:"",newType:"",projectTickets:[],projectManagers:[],developers:[],errorGetProjects:"",errorCreateComment:"",errorDeleteTicket:"",errorGetProject:"",errorCreateProject:"",errorDeleteProject:"",errorAssignDevsToTicket:"",errorAssignDevsToTicketInModify:"",errorAssignProjectToTicket:"",errorAssignProjectToTicketInModify:"",errorCreateTicket:"",errorAssignPMtoProject:"",errorAssignPMtoProjectInModify:"",errorGetDevelopers:"",errorGetProjectTickets:"",errorModifyProject:"",errorModifyTicket:"",errorSetDevs:"",errorSetDevsInModify:"",errorGetPMs:"",errorSelectTicket:"",priorityChoices:["None","Low","Medium","High"],typeChoices:["Bug","FeatureRequest","DocRequest","Other"],statusChoices:["New","Open","InProgress","Resolved","AddInfo"],projectName:"",projectDescription:"",projectPM:"null",projectDevs:[],selectedName:"",selectedDescription:"",selectedDevs:[],selectedDevsObj:[],selectedProjectDevs:[],selectedPm:"",selectedTickets:"",selectedProjectId:"",selectedTicketSubmitter:"",selectedTicketTitle:"",selectedTicketProject:"",selectedTicketProjectName:"",selectedTicketDescription:"",selectedTicketDevs:[],selectedTicketTA:[],selectedComments:[],selectedTicketPriority:"",selectedTicketType:"",selectedTicketStatus:"",selectedTicketId:"",ticketColumns:[{data:"title"},{render:function(e,t,s){return s.submitter.firstName+" "+s.submitter.lastName}},{data:"priority"},{data:"type"},{data:"status"},{render:function(e,t,s){return s.creationDate.substring(0,19)}},{data:"project.name"}],historyColumns:[{data:"propertyChanged"},{data:"oldValueOfProperty"},{data:"newValueOfProperty"},{render:function(e,t,s){return s.dateOfChange.substring(0,19)}}],r:"",columns:[{data:"name"},{data:"description"},{render:function(e,t,s){return s.projectManager.firstName+" "+s.projectManager.lastName}}],pageSize:3,pageIndex:0,prevActive:!1,nextActive:!1}},computed:{currentUser(){return this.$store.state.auth.user},currentUserIsAdminOrPM(){return!(!this.currentUser||!this.currentUser.roles)&&(this.currentUser.roles.includes("ROLE_ADMIN")||this.currentUser.roles.includes("ROLE_PROJECTMANAGER"))},pages:function(){return this.selectedComments.length%this.pageSize==0?this.selectedComments.length/this.pageSize:Math.floor(this.selectedComments.length/this.pageSize)+1},commentsOfCurrPage:function(){return this.selectedComments.slice(this.pageSize*this.pageIndex,this.pageSize*(this.pageIndex+1))},loggedIn(){return this.$store.state.auth.status.loggedIn}},created:function(){this.loggedIn?this.currentUserIsAdminOrPM?(er.getAllProjects().then((e=>{this.data=e.data.slice(0,3),console.log(this.data)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),_e.getAllDevelopers().then((e=>{this.developers=e.data,console.log(this.developers)}),(e=>{this.errorGetDevelopers=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),_e.getAllProjectManagers().then((e=>{this.projectManagers=e.data,console.log(this.projectManagers)}),(e=>{this.errorGetPMs=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):er.getAssignedProjectForDev(this.currentUser.username).then((e=>{this.data=e.data.slice(0,3),console.log(this.data)}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})):this.$router.push("/login")},methods:{setDevs(e){er.getProjectWithId(e).then((e=>{this.r=e.data,this.selectedProjectDevs=this.r.assignedDevelopers}),(e=>{this.errorGetProjects=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},clickRowTicket(){this.resetErrorMessages();const e=this.$refs.tableTicket.dt;var t=e.row(".selected").data();if(null!=t){if(this.selectedTicketSubmitter=t.submitter,this.selectedTicketId=t.id,this.selectedTicketTitle=t.title,this.selectedTicketProject=t.project.id,this.selectedTicketProjectName=t.project.name,this.selectedTicketDescription=t.description,this.selectedTicketDevs=t.assignedDevelopers,this.selectedTicketTA=t.ticketAttachments,this.selectedTicketPriority=t.priority,this.selectedTicketType=t.type,this.selectedTicketStatus=t.status,this.selectedComments=t.comments,this.newTicketProject=t.project.id,null!=t.assignedDevelopers)for(var s of t.assignedDevelopers)this.newTicketDevs.push(s.username);if(this.newTitle=t.title,this.newDescription=t.description,this.newPriority=t.priority,this.newStatus=t.status,this.newType=t.type,this.historyData=[],null!=t.ticketHistories)for(var r of t.ticketHistories)this.historyData.push(r)}this.pageIndex=0,this.prevActive=!1,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1},clickRow(){this.resetErrorMessages(),this.selectedTicketSubmitter="",this.selectedTicketId="",this.selectedTicketTitle="",this.selectedTicketProject="",this.selectedTicketProjectName="",this.selectedTicketDescription="",this.selectedTicketDevs=[],this.selectedTicketPriority="",this.selectedTicketType="",this.selectedTicketStatus="",this.selectedComments=[],this.historyData=[];const e=this.$refs.tableTicket.dt;e.row(".selected").deselect();const t=this.$refs.table.dt;var s=t.row(".selected").data();for(var r of(this.selectedDevs=[],this.selectedDevsObj=[],this.selectedProjectDevs=s.assignedDevelopers,this.selectedProjectId=s.id,this.selectedName=s.name,this.selectedDescription=s.description,s.assignedDevelopers))this.selectedDevs.push(r.username),this.selectedDevsObj.push(r);console.log(this.selectedDevs),this.selectedPm=s.projectManager,this.selectedTickets=s.tickets,sr.getTicketsForProjectWithId(this.selectedProjectId).then((e=>{for(var t of(this.projectTickets=e.data,this.projectTickets))t.project=s}),(e=>{this.errorGetProjectTickets=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))},resetErrorMessages(){this.errorGetProjects="",this.errorCreateComment="",this.errorDeleteTicket="",this.errorGetProject="",this.errorCreateProject="",this.errorDeleteProject="",this.errorAssignDevsToTicket="",this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicket="",this.errorAssignProjectToTicketInModify="",this.errorCreateTicket="",this.errorAssignPMtoProject="",this.errorAssignPMtoProjectInModify="",this.errorGetDevelopers="",this.errorGetProjectTickets="",this.errorModifyProject="",this.errorModifyTicket="",this.errorSetDevs="",this.errorSetDevsInModify="",this.errorGetPMs="",this.errorSelectTicket=""},createProject:function(e,t,s,r){this.resetErrorMessages(),0!=r.length?(this.errorSetDevs="",er.createProject(e,t,s).then((e=>{this.r=e.data;var t=this.r.id;er.assignDevsToProject(t,r.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data.push(e.data),this.projectDescription="",this.projectName="",this.projectPM="",this.projectDevs=[],this.$refs.Close.click()}),(e=>{this.errorSetDevs=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorSetDevs="List of developers cannot be empty"},modifyProject:function(e,t,s,r,a){this.resetErrorMessages(),this.errorDeleteProject="";const o=this.$refs.table.dt;var i=o.row(".selected").data();if(null==i)this.errorModifyProject="No project selected. ";else{var l=this.data.map((e=>e.id)).indexOf(e);0!=a.length?(this.errorSetDevsInModify="",er.modifyProject(e,t,s).then((e=>{this.r=e.data,this.data[l].name=t,this.data[l].description=s;var o=this.r.id;er.assignPMToProject(o,r).then((e=>{this.data[l].projectManager=e.data.projectManager}),(e=>{this.errorAssignPMtoProjectInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),er.assignDevsToProject(o,a.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.data[l].assignedDevelopers=e.data.assignedDevelopers}),(e=>{this.errorSetDevsInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorModifyProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorSetDevsInModify="List of developers cannot be empty. "}},deleteProject:function(e){this.resetErrorMessages();const t=this.$refs.table.dt;var s=t.row(".selected").data();if(null==s)this.errorDeleteProject="No project selected. ";else{var r=this.data.map((e=>e.id)).indexOf(e);er.deleteProject(e).then((e=>{this.r=e.data,this.selectedName="",this.selectedDescription="",this.selectedPm="",this.selectedDevs=[],-1!==r&&this.data.splice(r,1)}),(e=>{this.errorDeleteProject=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},createTicket:function(e,t,s,r,a,o,i){this.resetErrorMessages(),0!=i.length?(this.errorAssignDevsToTicket="",sr.createTicket(e,t,s,r,a,o,this.currentUser.username).then((e=>{this.r=e.data;var t=this.r.id;sr.assignDevsToTicket(t,i.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.projectTickets.push(e.data),this.ticketTitle="",this.ticketDescription="",this.ticketPriority="null",this.ticketStatus="null",this.ticketType="null",this.selectedProjectId="",this.ticketDevs=[],this.$refs.CloseTicket.click()}),(e=>{this.errorAssignDevsToTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}),(e=>{this.errorCreateTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},modifyTicket:function(e,t,s,r,a,o,i,l){this.resetErrorMessages();var c=this.projectTickets.map((e=>e.id)).indexOf(e);0!=l.length?(this.errorAssignDevsToTicketInModify="",this.errorAssignProjectToTicketInModify="",sr.modifyTicket(e,t,s,r,a,o).then((t=>{this.r=t.data,sr.assignDevsToTicket(e,l.reduce(((e,t)=>`${e},${t}`))).then((e=>{this.projectTickets[c].assignedDevelopers=e.data.assignedDevelopers,this.selectedTicketDevs=e.data.assignedDevelopers}),(e=>{this.errorAssignDevsToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),sr.assignProjectToTicket(e,i).then((e=>{this.projectTickets[c].project=e.data.project,this.selectedTicketProject=e.data.project.id,this.selectedTicketProjectName=e.data.project.name}),(e=>{this.errorAssignProjectToTicketInModify=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")})),this.projectTickets[c].title=this.r.title,this.selectedTicketTitle=this.r.title,this.projectTickets[c].description=this.r.description,this.selectedTicketDescription=this.r.description,this.projectTickets[c].priority=this.r.priority,this.selectedTicketPriority=this.r.priority,this.projectTickets[c].status=this.r.status,this.selectedTicketStatus=this.r.status,this.projectTickets[c].type=this.r.type,this.selectedTicketType=this.r.type,this.projectTickets[c].ticketHistories=this.r.ticketHistories,this.historyData=this.r.ticketHistories,this.$refs.CloseModify.click()}),(e=>{this.errorModifyTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))):this.errorAssignDevsToTicket="List of developers cannot be empty. "},gotoPrev:function(){this.pageIndex>0&&(this.pageIndex-=1,this.nextActive=!0,this.pageIndex>0?this.prevActive=!0:this.prevActive=!1)},gotoNext:function(){this.pageIndex<this.pages-1&&(this.pageIndex+=1,this.prevActive=!0,this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1)},addComment:function(e,t){this.resetErrorMessages();const s=this.$refs.tableTicket.dt;var r=s.row(".selected").data();if(null==r)this.errorCreateComment="No ticket selected. ";else if(null==t||""==t)this.errorCreateComment="Comment cannot be empty. ";else{var a=this.projectTickets.map((e=>e.id)).indexOf(e);sr.createCommentForTicket(e,this.currentUser.username,t).then((e=>{this.r=e.data,this.projectTickets[a].comments=this.r.comments,this.selectedComments=this.r.comments,this.commentMessage="",this.pageIndex<this.pages-1?this.nextActive=!0:this.nextActive=!1}),(e=>{this.errorCreateComment=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}},checkIfTicketSelected:function(){this.resetErrorMessages();const e=this.$refs.tableTicket.dt;var t=e.row(".selected").data();null==t?this.errorSelectTicket="No ticket selected. ":(this.modalInstance=new Qs.u_(document.getElementById("exampleModal1"),{target:"#my-modal"}),this.modalInstance.show())},deleteTicket:function(e){this.resetErrorMessages();const t=this.$refs.tableTicket.dt;var s=t.row(".selected").data();if(null==s)this.errorSelectTicket="No ticket selected. ";else{var r=this.projectTickets.map((e=>e.id)).indexOf(e);sr.deleteTicket(e).then((e=>{this.r=e.data,this.historyData=[],this.selectedTicketTitle="",this.selectedTicketProjectName="",this.selectedTicketDescription="",this.selectedTicketSubmitter="",this.selectedTicketType="",this.selectedTicketPriority="",this.selectedTicketStatus="",this.selectedTicketDevs=[],this.selectedComments=[],-1!==r&&this.projectTickets.splice(r,1)}),(e=>{this.errorDeleteTicket=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),e.response&&403===e.response.status&&n.dispatch("logout")}))}}}};const vl=(0,c.Z)(gl,[["render",hl],["__scopeId","data-v-aef3ee72"]]);var bl=vl,fl={name:"ProjectView",components:{ProjectPage:bl}};const kl=(0,c.Z)(fl,[["render",La]]);var yl=kl;function wl(e,t,s,r,o,i){const n=(0,a.up)("SignupPage");return(0,a.wg)(),(0,a.j4)(n)}const _l=e=>((0,a.dD)("data-v-3dd5de38"),e=e(),(0,a.Cn)(),e),Tl={class:"container"},jl={class:"hey"},Dl=_l((()=>(0,a._)("div",{class:"header"},[(0,a._)("h3",null,"Create a developer account")],-1))),Pl={class:"row"},Ml={class:"col-md-12"},Cl={key:0,class:"d-flex flex-column"},Nl={class:"form-group mb-12"},Il=_l((()=>(0,a._)("label",{for:"username"},"Username",-1))),Sl={class:"form-group mb-12"},Ul=_l((()=>(0,a._)("label",{for:"firstName"},"First Name",-1))),Al={class:"form-group mb-12"},xl=_l((()=>(0,a._)("label",{for:"lastName"},"Last Name",-1))),zl={class:"form-group mb-12"},Ol=_l((()=>(0,a._)("label",{for:"email"},"Email",-1))),El={class:"form-group mb-12"},Rl=_l((()=>(0,a._)("label",{for:"password"},"Password",-1))),Ll={class:"form-group mb-12"},Vl=["disabled"],ql={class:"spinner-border spinner-border-sm"};function Hl(e,t,s,o,i,n){const l=(0,a.up)("NavBar"),c=(0,a.up)("Field"),d=(0,a.up)("ErrorMessage"),p=(0,a.up)("Form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",Tl,[(0,a._)("div",jl,[Dl,(0,a._)("div",Pl,[(0,a._)("div",Ml,[(0,a.Wm)(p,{onSubmit:n.handleRegister,"validation-schema":i.schema},{default:(0,a.w5)((()=>[i.successful?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Cl,[(0,a._)("div",Nl,[Il,(0,a.Wm)(c,{name:"username",type:"text",class:"form-control"}),(0,a.Wm)(d,{name:"username",class:"error-feedback"})]),(0,a._)("div",Sl,[Ul,(0,a.Wm)(c,{name:"firstName",type:"firstName",class:"form-control"}),(0,a.Wm)(d,{name:"firstName",class:"error-feedback"})]),(0,a._)("div",Al,[xl,(0,a.Wm)(c,{name:"lastName",type:"lastName",class:"form-control"}),(0,a.Wm)(d,{name:"lastName",class:"error-feedback"})]),(0,a._)("div",zl,[Ol,(0,a.Wm)(c,{name:"email",type:"email",class:"form-control"}),(0,a.Wm)(d,{name:"email",class:"error-feedback"})]),(0,a._)("div",El,[Rl,(0,a.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,a.Wm)(d,{name:"password",class:"error-feedback"})]),(0,a._)("div",Ll,[(0,a._)("button",{class:"btn btn-primary",disabled:i.loading},[(0,a.wy)((0,a._)("span",ql,null,512),[[r.F8,i.loading]]),(0,a.Uk)(" Sign Up ")],8,Vl)])]))])),_:1},8,["onSubmit","validation-schema"]),i.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,h.C_)(["alert",i.successful?"alert-success":"alert-danger"])},(0,h.zw)(i.message),3)):(0,a.kq)("",!0)])])])])],64)}var Gl={name:"SignupPage",components:{NavBar:ge,Form:oa.l0,Field:oa.gN,ErrorMessage:oa.Bc},data(){const e=ia.Ry().shape({username:ia.Z_().required("Username is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),firstName:ia.Z_().required("First name is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),lastName:ia.Z_().required("Last name is required!").min(3,"Must be at least 3 characters!").max(20,"Must be maximum 20 characters!"),email:ia.Z_().required("Email is required!").email("Email is invalid!").max(50,"Must be maximum 50 characters!"),password:ia.Z_().required("Password is required!").min(6,"Must be at least 6 characters!").max(40,"Must be maximum 40 characters!")});return{successful:!1,loading:!1,message:"",schema:e}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},mounted(){this.loggedIn&&this.$router.push("/dashboard")},methods:{handleRegister(e){this.message="",this.successful=!1,this.loading=!0,this.$store.dispatch("auth/register",e).then((e=>{this.message=e.message,this.successful=!0,this.loading=!1}),(e=>{this.message=e.response&&e.response.data&&e.response.data.message||e.message||e.toString(),this.successful=!1,this.loading=!1}))}}};const Fl=(0,c.Z)(Gl,[["render",Hl],["__scopeId","data-v-3dd5de38"]]);var $l=Fl,Wl={name:"SignupView",components:{SignupPage:$l}};const Yl=(0,c.Z)(Wl,[["render",wl]]);var Bl=Yl;const Kl=[{path:"/administration",name:"AdminView",component:Ce},{path:"/tickets",name:"TicketView",component:lr},{path:"/dashboard",name:"DashboardView",component:Vr},{path:"/login",name:"LoginView",component:ma},{path:"/myAccount",name:"MyAccountView",component:Ra},{path:"/projects",name:"ProjectView",component:yl},{path:"/signup",name:"SignupView",component:Bl}],Zl=(0,m.p7)({history:(0,m.PO)("/"),routes:Kl});var Jl=Zl,Ql=(s(9773),s(4981)),Xl=(0,Ql.Rd)();async function ec(){const e=await s.e(461).then(s.t.bind(s,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var tc=s(65);class sc{getLocalRefreshToken(){const e=JSON.parse(localStorage.getItem("user"));return e?.refreshToken}getLocalAccessToken(){const e=JSON.parse(localStorage.getItem("user"));return e?.accessToken}updateLocalAccessToken(e){let t=JSON.parse(localStorage.getItem("user"));t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}getUser(){return JSON.parse(localStorage.getItem("user"))}setUser(e){console.log(JSON.stringify(e)),localStorage.setItem("user",JSON.stringify(e))}removeUser(){localStorage.removeItem("user")}}var rc=new sc;class ac{login(e){return ye.post("/auth/signin",{username:e.username,password:e.password}).then((e=>(e.data.accessToken&&rc.setUser(e.data),e.data)))}logout(){ye.post("/auth/signout",{}).then((e=>(rc.removeUser(),e.data)))}register(e){return ye.post("/auth/signup",{username:e.username,firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,role:["Developer"]})}}var oc=new ac;const ic=JSON.parse(localStorage.getItem("user")),nc=ic?{status:{loggedIn:!0},user:ic}:{status:{loggedIn:!1},user:null},lc={namespaced:!0,state:nc,actions:{login({commit:e},t){return oc.login(t).then((t=>(e("loginSuccess",t),Promise.resolve(t))),(t=>(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){oc.logout(),e("logout")},register({commit:e},t){return oc.register(t).then((t=>(e("registerSuccess"),Promise.resolve(t.data))),(t=>(e("registerFailure"),Promise.reject(t))))},refreshToken({commit:e},t){e("refreshToken",t)}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.status.loggedIn=!0,e.user={...e.user,accessToken:t}}}},cc=(0,tc.MT)({modules:{auth:lc}});var dc=cc,pc=s(3494),mc=s(7749),uc=s(8539);pc.vI.add(uc.J9Y,uc.ILF,uc.FKd,uc.$Wj,uc.jLD);const hc=e=>{ye.interceptors.request.use((e=>{const t=rc.getLocalAccessToken();return t&&(e.headers["Authorization"]="Bearer "+t),e}),(e=>Promise.reject(e))),ye.interceptors.response.use((e=>e),(async t=>{const s=t.config;if("/auth/signin"!==s.url&&t.response&&401===t.response.status&&!s._retry){s._retry=!0;try{const t=await ye.post("/auth/refreshtoken",{refreshToken:rc.getLocalRefreshToken()}),{accessToken:r}=t.data;return e.dispatch("auth/refreshToken",r),rc.updateLocalAccessToken(r),ye(s)}catch(r){return Promise.reject(r)}}return Promise.reject(t)}))};var gc=hc;ec(),gc(dc),(0,r.ri)(p).use(Jl).use(Xl).use(dc).component("font-awesome-icon",mc.GN).mount("#app")},4243:function(e,t,s){"use strict";e.exports=s.p+"img/bug.2646fc57.svg"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var n=2&a&&r;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){i[e]=function(){return r[e]}}));return i["default"]=function(){return r},s.d(o,i),o}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/webfontloader.c896defc.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="bugtracker-frontend:";s.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var n,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){n=p;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+o),n.src=r),e[r]=[a];var m=function(t,s){n.onerror=n.onload=null,clearTimeout(u);var a=e[r];if(delete e[r],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((function(e){return e(s)})),t)return t(s)},u=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.f.j=function(t,r){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(s,r){a=e[t]=[s,r]}));r.push(a[2]=o);var i=s.p+s.u(t),n=new Error,l=function(r){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",n.name="ChunkLoadError",n.type=o,n.request=i,a[1](n)}};s.l(i,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],n=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self["webpackChunkbugtracker_frontend"]=self["webpackChunkbugtracker_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(3173)}));r=s.O(r)})();
//# sourceMappingURL=app.77929c9f.js.map